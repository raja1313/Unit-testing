var cov_12ho1fwasm=function(){var path='/Users/apple/Downloads/hackathon-starter-master/controllers/contact.js',hash='26c856ca4d4ac0aee00f2dc6caedfd0ce9b4feca',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/apple/Downloads/hackathon-starter-master/controllers/contact.js',statementMap:{'0':{start:{line:1,column:19},end:{line:1,column:40}},'1':{start:{line:3,column:20},end:{line:9,column:2}},'2':{start:{line:15,column:0},end:{line:22,column:2}},'3':{start:{line:16,column:22},end:{line:16,column:33}},'4':{start:{line:18,column:2},end:{line:21,column:5}},'5':{start:{line:28,column:0},end:{line:67,column:2}},'6':{start:{line:31,column:2},end:{line:34,column:3}},'7':{start:{line:32,column:4},end:{line:32,column:58}},'8':{start:{line:33,column:4},end:{line:33,column:56}},'9':{start:{line:35,column:2},end:{line:35,column:62}},'10':{start:{line:37,column:17},end:{line:37,column:39}},'11':{start:{line:39,column:2},end:{line:42,column:3}},'12':{start:{line:40,column:4},end:{line:40,column:32}},'13':{start:{line:41,column:4},end:{line:41,column:36}},'14':{start:{line:44,column:2},end:{line:50,column:3}},'15':{start:{line:45,column:4},end:{line:45,column:29}},'16':{start:{line:46,column:4},end:{line:46,column:31}},'17':{start:{line:48,column:4},end:{line:48,column:43}},'18':{start:{line:49,column:4},end:{line:49,column:31}},'19':{start:{line:52,column:22},end:{line:57,column:3}},'20':{start:{line:59,column:2},end:{line:66,column:5}},'21':{start:{line:60,column:4},end:{line:63,column:5}},'22':{start:{line:61,column:6},end:{line:61,column:48}},'23':{start:{line:62,column:6},end:{line:62,column:38}},'24':{start:{line:64,column:4},end:{line:64,column:71}},'25':{start:{line:65,column:4},end:{line:65,column:29}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:15,column:21},end:{line:15,column:22}},loc:{start:{line:15,column:35},end:{line:22,column:1}},line:15},'1':{name:'(anonymous_1)',decl:{start:{line:28,column:22},end:{line:28,column:23}},loc:{start:{line:28,column:36},end:{line:67,column:1}},line:28},'2':{name:'(anonymous_2)',decl:{start:{line:59,column:36},end:{line:59,column:37}},loc:{start:{line:59,column:45},end:{line:66,column:3}},line:59}},branchMap:{'0':{loc:{start:{line:31,column:2},end:{line:34,column:3}},type:'if',locations:[{start:{line:31,column:2},end:{line:34,column:3}},{start:{line:31,column:2},end:{line:34,column:3}}],line:31},'1':{loc:{start:{line:39,column:2},end:{line:42,column:3}},type:'if',locations:[{start:{line:39,column:2},end:{line:42,column:3}},{start:{line:39,column:2},end:{line:42,column:3}}],line:39},'2':{loc:{start:{line:44,column:2},end:{line:50,column:3}},type:'if',locations:[{start:{line:44,column:2},end:{line:50,column:3}},{start:{line:44,column:2},end:{line:50,column:3}}],line:44},'3':{loc:{start:{line:48,column:15},end:{line:48,column:42}},type:'binary-expr',locations:[{start:{line:48,column:15},end:{line:48,column:36}},{start:{line:48,column:40},end:{line:48,column:42}}],line:48},'4':{loc:{start:{line:60,column:4},end:{line:63,column:5}},type:'if',locations:[{start:{line:60,column:4},end:{line:63,column:5}},{start:{line:60,column:4},end:{line:63,column:5}}],line:60}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0},f:{'0':0,'1':0,'2':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const nodemailer=(cov_12ho1fwasm.s[0]++,require('nodemailer'));const transporter=(cov_12ho1fwasm.s[1]++,nodemailer.createTransport({service:'SendGrid',auth:{user:process.env.SENDGRID_USER,pass:process.env.SENDGRID_PASSWORD}}));/**
 * GET /contact
 * Contact form page.
 */cov_12ho1fwasm.s[2]++;exports.getContact=(req,res)=>{cov_12ho1fwasm.f[0]++;const unknownUser=(cov_12ho1fwasm.s[3]++,!req.user);cov_12ho1fwasm.s[4]++;res.render('contact',{title:'Contact',unknownUser});};/**
 * POST /contact
 * Send a contact form via Nodemailer.
 */cov_12ho1fwasm.s[5]++;exports.postContact=(req,res)=>{cov_12ho1fwasm.f[1]++;let fromName;let fromEmail;cov_12ho1fwasm.s[6]++;if(!req.user){cov_12ho1fwasm.b[0][0]++;cov_12ho1fwasm.s[7]++;req.assert('name','Name cannot be blank').notEmpty();cov_12ho1fwasm.s[8]++;req.assert('email','Email is not valid').isEmail();}else{cov_12ho1fwasm.b[0][1]++;}cov_12ho1fwasm.s[9]++;req.assert('message','Message cannot be blank').notEmpty();const errors=(cov_12ho1fwasm.s[10]++,req.validationErrors());cov_12ho1fwasm.s[11]++;if(errors){cov_12ho1fwasm.b[1][0]++;cov_12ho1fwasm.s[12]++;req.flash('errors',errors);cov_12ho1fwasm.s[13]++;return res.redirect('/contact');}else{cov_12ho1fwasm.b[1][1]++;}cov_12ho1fwasm.s[14]++;if(!req.user){cov_12ho1fwasm.b[2][0]++;cov_12ho1fwasm.s[15]++;fromName=req.body.name;cov_12ho1fwasm.s[16]++;fromEmail=req.body.email;}else{cov_12ho1fwasm.b[2][1]++;cov_12ho1fwasm.s[17]++;fromName=(cov_12ho1fwasm.b[3][0]++,req.user.profile.name)||(cov_12ho1fwasm.b[3][1]++,'');cov_12ho1fwasm.s[18]++;fromEmail=req.user.email;}const mailOptions=(cov_12ho1fwasm.s[19]++,{to:'your@email.com',from:`${fromName} <${fromEmail}>`,subject:'Contact Form | Hackathon Starter',text:req.body.message});cov_12ho1fwasm.s[20]++;transporter.sendMail(mailOptions,err=>{cov_12ho1fwasm.f[2]++;cov_12ho1fwasm.s[21]++;if(err){cov_12ho1fwasm.b[4][0]++;cov_12ho1fwasm.s[22]++;req.flash('errors',{msg:err.message});cov_12ho1fwasm.s[23]++;return res.redirect('/contact');}else{cov_12ho1fwasm.b[4][1]++;}cov_12ho1fwasm.s[24]++;req.flash('success',{msg:'Email has been sent successfully!'});cov_12ho1fwasm.s[25]++;res.redirect('/contact');});};