var cov_1i6ws0izis=function(){var path='/Users/apple/Downloads/hackathon-starter-master/config/passport.js',hash='a3d396dad3131672e4afb9f03c7b814ed96f14aa',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/apple/Downloads/hackathon-starter-master/config/passport.js',statementMap:{'0':{start:{line:1,column:17},end:{line:1,column:36}},'1':{start:{line:2,column:16},end:{line:2,column:34}},'2':{start:{line:3,column:40},end:{line:3,column:69}},'3':{start:{line:4,column:36},end:{line:4,column:61}},'4':{start:{line:5,column:39},end:{line:5,column:67}},'5':{start:{line:6,column:38},end:{line:6,column:65}},'6':{start:{line:7,column:37},end:{line:7,column:63}},'7':{start:{line:8,column:43},end:{line:8,column:75}},'8':{start:{line:9,column:39},end:{line:9,column:74}},'9':{start:{line:10,column:37},end:{line:10,column:63}},'10':{start:{line:11,column:26},end:{line:11,column:51}},'11':{start:{line:12,column:27},end:{line:12,column:52}},'12':{start:{line:14,column:13},end:{line:14,column:38}},'13':{start:{line:16,column:0},end:{line:18,column:3}},'14':{start:{line:17,column:2},end:{line:17,column:22}},'15':{start:{line:20,column:0},end:{line:24,column:3}},'16':{start:{line:21,column:2},end:{line:23,column:5}},'17':{start:{line:22,column:4},end:{line:22,column:20}},'18':{start:{line:29,column:0},end:{line:43,column:4}},'19':{start:{line:30,column:2},end:{line:42,column:5}},'20':{start:{line:31,column:4},end:{line:31,column:34}},'21':{start:{line:31,column:15},end:{line:31,column:32}},'22':{start:{line:32,column:4},end:{line:34,column:5}},'23':{start:{line:33,column:6},end:{line:33,column:69}},'24':{start:{line:35,column:4},end:{line:41,column:7}},'25':{start:{line:36,column:6},end:{line:36,column:36}},'26':{start:{line:36,column:17},end:{line:36,column:34}},'27':{start:{line:37,column:6},end:{line:39,column:7}},'28':{start:{line:38,column:8},end:{line:38,column:32}},'29':{start:{line:40,column:6},end:{line:40,column:70}},'30':{start:{line:63,column:0},end:{line:118,column:4}},'31':{start:{line:70,column:2},end:{line:117,column:3}},'32':{start:{line:71,column:4},end:{line:90,column:7}},'33':{start:{line:72,column:6},end:{line:72,column:36}},'34':{start:{line:72,column:17},end:{line:72,column:34}},'35':{start:{line:73,column:6},end:{line:89,column:7}},'36':{start:{line:74,column:8},end:{line:74,column:177}},'37':{start:{line:75,column:8},end:{line:75,column:18}},'38':{start:{line:77,column:8},end:{line:88,column:11}},'39':{start:{line:78,column:10},end:{line:78,column:40}},'40':{start:{line:78,column:21},end:{line:78,column:38}},'41':{start:{line:79,column:10},end:{line:79,column:37}},'42':{start:{line:80,column:10},end:{line:80,column:62}},'43':{start:{line:81,column:10},end:{line:81,column:106}},'44':{start:{line:82,column:10},end:{line:82,column:76}},'45':{start:{line:83,column:10},end:{line:83,column:119}},'46':{start:{line:84,column:10},end:{line:87,column:13}},'47':{start:{line:85,column:12},end:{line:85,column:76}},'48':{start:{line:86,column:12},end:{line:86,column:28}},'49':{start:{line:92,column:4},end:{line:116,column:7}},'50':{start:{line:93,column:6},end:{line:93,column:36}},'51':{start:{line:93,column:17},end:{line:93,column:34}},'52':{start:{line:94,column:6},end:{line:96,column:7}},'53':{start:{line:95,column:8},end:{line:95,column:40}},'54':{start:{line:97,column:6},end:{line:115,column:9}},'55':{start:{line:98,column:8},end:{line:98,column:38}},'56':{start:{line:98,column:19},end:{line:98,column:36}},'57':{start:{line:99,column:8},end:{line:114,column:9}},'58':{start:{line:100,column:10},end:{line:100,column:178}},'59':{start:{line:101,column:10},end:{line:101,column:20}},'60':{start:{line:103,column:23},end:{line:103,column:33}},'61':{start:{line:104,column:10},end:{line:104,column:43}},'62':{start:{line:105,column:10},end:{line:105,column:37}},'63':{start:{line:106,column:10},end:{line:106,column:62}},'64':{start:{line:107,column:10},end:{line:107,column:85}},'65':{start:{line:108,column:10},end:{line:108,column:53}},'66':{start:{line:109,column:10},end:{line:109,column:95}},'67':{start:{line:110,column:10},end:{line:110,column:94}},'68':{start:{line:111,column:10},end:{line:113,column:13}},'69':{start:{line:112,column:12},end:{line:112,column:28}},'70':{start:{line:123,column:0},end:{line:177,column:4}},'71':{start:{line:129,column:2},end:{line:176,column:3}},'72':{start:{line:130,column:4},end:{line:149,column:7}},'73':{start:{line:131,column:6},end:{line:148,column:7}},'74':{start:{line:132,column:8},end:{line:132,column:175}},'75':{start:{line:133,column:8},end:{line:133,column:18}},'76':{start:{line:135,column:8},end:{line:147,column:11}},'77':{start:{line:136,column:10},end:{line:136,column:40}},'78':{start:{line:136,column:21},end:{line:136,column:38}},'79':{start:{line:137,column:10},end:{line:137,column:35}},'80':{start:{line:138,column:10},end:{line:138,column:60}},'81':{start:{line:139,column:10},end:{line:139,column:71}},'82':{start:{line:140,column:10},end:{line:140,column:82}},'83':{start:{line:141,column:10},end:{line:141,column:82}},'84':{start:{line:142,column:10},end:{line:142,column:76}},'85':{start:{line:143,column:10},end:{line:146,column:13}},'86':{start:{line:144,column:12},end:{line:144,column:74}},'87':{start:{line:145,column:12},end:{line:145,column:28}},'88':{start:{line:151,column:4},end:{line:175,column:7}},'89':{start:{line:152,column:6},end:{line:152,column:36}},'90':{start:{line:152,column:17},end:{line:152,column:34}},'91':{start:{line:153,column:6},end:{line:155,column:7}},'92':{start:{line:154,column:8},end:{line:154,column:40}},'93':{start:{line:156,column:6},end:{line:174,column:9}},'94':{start:{line:157,column:8},end:{line:157,column:38}},'95':{start:{line:157,column:19},end:{line:157,column:36}},'96':{start:{line:158,column:8},end:{line:173,column:9}},'97':{start:{line:159,column:10},end:{line:159,column:176}},'98':{start:{line:160,column:10},end:{line:160,column:20}},'99':{start:{line:162,column:23},end:{line:162,column:33}},'100':{start:{line:163,column:10},end:{line:163,column:43}},'101':{start:{line:164,column:10},end:{line:164,column:35}},'102':{start:{line:165,column:10},end:{line:165,column:60}},'103':{start:{line:166,column:10},end:{line:166,column:50}},'104':{start:{line:167,column:10},end:{line:167,column:58}},'105':{start:{line:168,column:10},end:{line:168,column:57}},'106':{start:{line:169,column:10},end:{line:169,column:52}},'107':{start:{line:170,column:10},end:{line:172,column:13}},'108':{start:{line:171,column:12},end:{line:171,column:28}},'109':{start:{line:181,column:0},end:{line:230,column:4}},'110':{start:{line:187,column:2},end:{line:229,column:3}},'111':{start:{line:188,column:4},end:{line:208,column:7}},'112':{start:{line:189,column:6},end:{line:189,column:36}},'113':{start:{line:189,column:17},end:{line:189,column:34}},'114':{start:{line:190,column:6},end:{line:207,column:7}},'115':{start:{line:191,column:8},end:{line:191,column:176}},'116':{start:{line:192,column:8},end:{line:192,column:18}},'117':{start:{line:194,column:8},end:{line:206,column:11}},'118':{start:{line:195,column:10},end:{line:195,column:40}},'119':{start:{line:195,column:21},end:{line:195,column:38}},'120':{start:{line:196,column:10},end:{line:196,column:36}},'121':{start:{line:197,column:10},end:{line:197,column:74}},'122':{start:{line:198,column:10},end:{line:198,column:71}},'123':{start:{line:199,column:10},end:{line:199,column:82}},'124':{start:{line:200,column:10},end:{line:200,column:95}},'125':{start:{line:201,column:10},end:{line:205,column:13}},'126':{start:{line:202,column:12},end:{line:202,column:42}},'127':{start:{line:202,column:23},end:{line:202,column:40}},'128':{start:{line:203,column:12},end:{line:203,column:75}},'129':{start:{line:204,column:12},end:{line:204,column:28}},'130':{start:{line:210,column:4},end:{line:228,column:7}},'131':{start:{line:211,column:6},end:{line:211,column:36}},'132':{start:{line:211,column:17},end:{line:211,column:34}},'133':{start:{line:212,column:6},end:{line:214,column:7}},'134':{start:{line:213,column:8},end:{line:213,column:40}},'135':{start:{line:215,column:19},end:{line:215,column:29}},'136':{start:{line:219,column:6},end:{line:219,column:53}},'137':{start:{line:220,column:6},end:{line:220,column:32}},'138':{start:{line:221,column:6},end:{line:221,column:70}},'139':{start:{line:222,column:6},end:{line:222,column:46}},'140':{start:{line:223,column:6},end:{line:223,column:53}},'141':{start:{line:224,column:6},end:{line:224,column:67}},'142':{start:{line:225,column:6},end:{line:227,column:9}},'143':{start:{line:226,column:8},end:{line:226,column:24}},'144':{start:{line:235,column:0},end:{line:288,column:4}},'145':{start:{line:241,column:2},end:{line:287,column:3}},'146':{start:{line:242,column:4},end:{line:261,column:7}},'147':{start:{line:243,column:6},end:{line:243,column:36}},'148':{start:{line:243,column:17},end:{line:243,column:34}},'149':{start:{line:244,column:6},end:{line:260,column:7}},'150':{start:{line:245,column:8},end:{line:245,column:175}},'151':{start:{line:246,column:8},end:{line:246,column:18}},'152':{start:{line:248,column:8},end:{line:259,column:11}},'153':{start:{line:249,column:10},end:{line:249,column:40}},'154':{start:{line:249,column:21},end:{line:249,column:38}},'155':{start:{line:250,column:10},end:{line:250,column:35}},'156':{start:{line:251,column:10},end:{line:251,column:60}},'157':{start:{line:252,column:10},end:{line:252,column:71}},'158':{start:{line:253,column:10},end:{line:253,column:76}},'159':{start:{line:254,column:10},end:{line:254,column:81}},'160':{start:{line:255,column:10},end:{line:258,column:13}},'161':{start:{line:256,column:12},end:{line:256,column:74}},'162':{start:{line:257,column:12},end:{line:257,column:28}},'163':{start:{line:263,column:4},end:{line:286,column:7}},'164':{start:{line:264,column:6},end:{line:264,column:36}},'165':{start:{line:264,column:17},end:{line:264,column:34}},'166':{start:{line:265,column:6},end:{line:267,column:7}},'167':{start:{line:266,column:8},end:{line:266,column:40}},'168':{start:{line:268,column:6},end:{line:285,column:9}},'169':{start:{line:269,column:8},end:{line:269,column:38}},'170':{start:{line:269,column:19},end:{line:269,column:36}},'171':{start:{line:270,column:8},end:{line:284,column:9}},'172':{start:{line:271,column:10},end:{line:271,column:176}},'173':{start:{line:272,column:10},end:{line:272,column:20}},'174':{start:{line:274,column:23},end:{line:274,column:33}},'175':{start:{line:275,column:10},end:{line:275,column:47}},'176':{start:{line:276,column:10},end:{line:276,column:35}},'177':{start:{line:277,column:10},end:{line:277,column:60}},'178':{start:{line:278,column:10},end:{line:278,column:50}},'179':{start:{line:279,column:10},end:{line:279,column:53}},'180':{start:{line:280,column:10},end:{line:280,column:57}},'181':{start:{line:281,column:10},end:{line:283,column:13}},'182':{start:{line:282,column:12},end:{line:282,column:28}},'183':{start:{line:293,column:0},end:{line:350,column:4}},'184':{start:{line:300,column:2},end:{line:349,column:3}},'185':{start:{line:301,column:4},end:{line:322,column:7}},'186':{start:{line:302,column:6},end:{line:302,column:36}},'187':{start:{line:302,column:17},end:{line:302,column:34}},'188':{start:{line:303,column:6},end:{line:321,column:7}},'189':{start:{line:304,column:8},end:{line:304,column:177}},'190':{start:{line:305,column:8},end:{line:305,column:18}},'191':{start:{line:307,column:8},end:{line:320,column:11}},'192':{start:{line:308,column:10},end:{line:308,column:40}},'193':{start:{line:308,column:21},end:{line:308,column:38}},'194':{start:{line:309,column:10},end:{line:309,column:37}},'195':{start:{line:310,column:10},end:{line:310,column:62}},'196':{start:{line:311,column:10},end:{line:311,column:71}},'197':{start:{line:312,column:10},end:{line:312,column:87}},'198':{start:{line:313,column:10},end:{line:313,column:82}},'199':{start:{line:314,column:10},end:{line:314,column:88}},'200':{start:{line:315,column:10},end:{line:319,column:13}},'201':{start:{line:316,column:12},end:{line:316,column:42}},'202':{start:{line:316,column:23},end:{line:316,column:40}},'203':{start:{line:317,column:12},end:{line:317,column:76}},'204':{start:{line:318,column:12},end:{line:318,column:28}},'205':{start:{line:324,column:4},end:{line:348,column:7}},'206':{start:{line:325,column:6},end:{line:325,column:36}},'207':{start:{line:325,column:17},end:{line:325,column:34}},'208':{start:{line:326,column:6},end:{line:328,column:7}},'209':{start:{line:327,column:8},end:{line:327,column:40}},'210':{start:{line:329,column:6},end:{line:347,column:9}},'211':{start:{line:330,column:8},end:{line:330,column:38}},'212':{start:{line:330,column:19},end:{line:330,column:36}},'213':{start:{line:331,column:8},end:{line:346,column:9}},'214':{start:{line:332,column:10},end:{line:332,column:178}},'215':{start:{line:333,column:10},end:{line:333,column:20}},'216':{start:{line:335,column:23},end:{line:335,column:33}},'217':{start:{line:336,column:10},end:{line:336,column:37}},'218':{start:{line:337,column:10},end:{line:337,column:62}},'219':{start:{line:338,column:10},end:{line:338,column:50}},'220':{start:{line:339,column:10},end:{line:339,column:50}},'221':{start:{line:340,column:10},end:{line:340,column:62}},'222':{start:{line:341,column:10},end:{line:341,column:58}},'223':{start:{line:342,column:10},end:{line:342,column:64}},'224':{start:{line:343,column:10},end:{line:345,column:13}},'225':{start:{line:344,column:12},end:{line:344,column:28}},'226':{start:{line:355,column:0},end:{line:403,column:4}},'227':{start:{line:361,column:2},end:{line:402,column:3}},'228':{start:{line:362,column:4},end:{line:381,column:7}},'229':{start:{line:363,column:6},end:{line:363,column:36}},'230':{start:{line:363,column:17},end:{line:363,column:34}},'231':{start:{line:364,column:6},end:{line:380,column:7}},'232':{start:{line:365,column:8},end:{line:365,column:179}},'233':{start:{line:366,column:8},end:{line:366,column:18}},'234':{start:{line:368,column:8},end:{line:379,column:11}},'235':{start:{line:369,column:10},end:{line:369,column:40}},'236':{start:{line:369,column:21},end:{line:369,column:38}},'237':{start:{line:370,column:10},end:{line:370,column:38}},'238':{start:{line:371,column:10},end:{line:371,column:63}},'239':{start:{line:372,column:10},end:{line:372,column:71}},'240':{start:{line:373,column:10},end:{line:373,column:92}},'241':{start:{line:374,column:10},end:{line:374,column:84}},'242':{start:{line:375,column:10},end:{line:378,column:13}},'243':{start:{line:376,column:12},end:{line:376,column:77}},'244':{start:{line:377,column:12},end:{line:377,column:28}},'245':{start:{line:383,column:4},end:{line:401,column:7}},'246':{start:{line:384,column:6},end:{line:384,column:36}},'247':{start:{line:384,column:17},end:{line:384,column:34}},'248':{start:{line:385,column:6},end:{line:387,column:7}},'249':{start:{line:386,column:8},end:{line:386,column:40}},'250':{start:{line:388,column:19},end:{line:388,column:29}},'251':{start:{line:389,column:6},end:{line:389,column:34}},'252':{start:{line:390,column:6},end:{line:390,column:59}},'253':{start:{line:391,column:6},end:{line:391,column:46}},'254':{start:{line:395,column:6},end:{line:395,column:55}},'255':{start:{line:396,column:6},end:{line:396,column:56}},'256':{start:{line:397,column:6},end:{line:397,column:64}},'257':{start:{line:398,column:6},end:{line:400,column:9}},'258':{start:{line:399,column:8},end:{line:399,column:24}},'259':{start:{line:408,column:0},end:{line:425,column:4}},'260':{start:{line:418,column:2},end:{line:424,column:5}},'261':{start:{line:419,column:4},end:{line:419,column:34}},'262':{start:{line:419,column:15},end:{line:419,column:32}},'263':{start:{line:420,column:4},end:{line:420,column:74}},'264':{start:{line:421,column:4},end:{line:423,column:7}},'265':{start:{line:422,column:6},end:{line:422,column:22}},'266':{start:{line:430,column:0},end:{line:446,column:4}},'267':{start:{line:439,column:2},end:{line:445,column:5}},'268':{start:{line:440,column:4},end:{line:440,column:34}},'269':{start:{line:440,column:15},end:{line:440,column:32}},'270':{start:{line:441,column:4},end:{line:441,column:58}},'271':{start:{line:442,column:4},end:{line:444,column:7}},'272':{start:{line:443,column:6},end:{line:443,column:22}},'273':{start:{line:451,column:0},end:{line:510,column:4}},'274':{start:{line:459,column:18},end:{line:459,column:45}},'275':{start:{line:460,column:21},end:{line:460,column:136}},'276':{start:{line:462,column:2},end:{line:509,column:3}},'277':{start:{line:463,column:4},end:{line:489,column:7}},'278':{start:{line:464,column:6},end:{line:464,column:36}},'279':{start:{line:464,column:17},end:{line:464,column:34}},'280':{start:{line:465,column:6},end:{line:488,column:7}},'281':{start:{line:466,column:8},end:{line:466,column:177}},'282':{start:{line:467,column:8},end:{line:467,column:18}},'283':{start:{line:469,column:8},end:{line:487,column:11}},'284':{start:{line:470,column:10},end:{line:470,column:40}},'285':{start:{line:470,column:21},end:{line:470,column:38}},'286':{start:{line:471,column:10},end:{line:471,column:31}},'287':{start:{line:472,column:10},end:{line:472,column:68}},'288':{start:{line:473,column:10},end:{line:486,column:13}},'289':{start:{line:474,column:12},end:{line:485,column:13}},'290':{start:{line:475,column:27},end:{line:475,column:43}},'291':{start:{line:476,column:30},end:{line:476,column:54}},'292':{start:{line:477,column:14},end:{line:477,column:75}},'293':{start:{line:478,column:14},end:{line:478,column:82}},'294':{start:{line:479,column:14},end:{line:481,column:17}},'295':{start:{line:480,column:16},end:{line:480,column:32}},'296':{start:{line:483,column:14},end:{line:483,column:55}},'297':{start:{line:483,column:35},end:{line:483,column:51}},'298':{start:{line:484,column:14},end:{line:484,column:32}},'299':{start:{line:491,column:4},end:{line:508,column:7}},'300':{start:{line:492,column:6},end:{line:507,column:7}},'301':{start:{line:493,column:21},end:{line:493,column:37}},'302':{start:{line:494,column:24},end:{line:494,column:48}},'303':{start:{line:496,column:21},end:{line:496,column:31}},'304':{start:{line:497,column:8},end:{line:497,column:29}},'305':{start:{line:498,column:8},end:{line:498,column:44}},'306':{start:{line:499,column:8},end:{line:499,column:66}},'307':{start:{line:500,column:8},end:{line:500,column:48}},'308':{start:{line:501,column:8},end:{line:501,column:52}},'309':{start:{line:502,column:8},end:{line:504,column:11}},'310':{start:{line:503,column:10},end:{line:503,column:26}},'311':{start:{line:506,column:8},end:{line:506,column:26}},'312':{start:{line:515,column:0},end:{line:531,column:4}},'313':{start:{line:524,column:2},end:{line:530,column:5}},'314':{start:{line:525,column:4},end:{line:525,column:34}},'315':{start:{line:525,column:15},end:{line:525,column:32}},'316':{start:{line:526,column:4},end:{line:526,column:57}},'317':{start:{line:527,column:4},end:{line:529,column:7}},'318':{start:{line:528,column:6},end:{line:528,column:22}},'319':{start:{line:536,column:0},end:{line:541,column:2}},'320':{start:{line:537,column:2},end:{line:539,column:3}},'321':{start:{line:538,column:4},end:{line:538,column:18}},'322':{start:{line:540,column:2},end:{line:540,column:25}},'323':{start:{line:546,column:0},end:{line:554,column:2}},'324':{start:{line:547,column:19},end:{line:547,column:51}},'325':{start:{line:548,column:16},end:{line:548,column:70}},'326':{start:{line:548,column:46},end:{line:548,column:69}},'327':{start:{line:549,column:2},end:{line:553,column:3}},'328':{start:{line:550,column:4},end:{line:550,column:11}},'329':{start:{line:552,column:4},end:{line:552,column:38}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:16,column:23},end:{line:16,column:24}},loc:{start:{line:16,column:39},end:{line:18,column:1}},line:16},'1':{name:'(anonymous_1)',decl:{start:{line:20,column:25},end:{line:20,column:26}},loc:{start:{line:20,column:39},end:{line:24,column:1}},line:20},'2':{name:'(anonymous_2)',decl:{start:{line:21,column:20},end:{line:21,column:21}},loc:{start:{line:21,column:35},end:{line:23,column:3}},line:21},'3':{name:'(anonymous_3)',decl:{start:{line:29,column:59},end:{line:29,column:60}},loc:{start:{line:29,column:86},end:{line:43,column:1}},line:29},'4':{name:'(anonymous_4)',decl:{start:{line:30,column:47},end:{line:30,column:48}},loc:{start:{line:30,column:62},end:{line:42,column:3}},line:30},'5':{name:'(anonymous_5)',decl:{start:{line:35,column:35},end:{line:35,column:36}},loc:{start:{line:35,column:53},end:{line:41,column:5}},line:35},'6':{name:'(anonymous_6)',decl:{start:{line:69,column:3},end:{line:69,column:4}},loc:{start:{line:69,column:54},end:{line:118,column:1}},line:69},'7':{name:'(anonymous_7)',decl:{start:{line:71,column:43},end:{line:71,column:44}},loc:{start:{line:71,column:66},end:{line:90,column:5}},line:71},'8':{name:'(anonymous_8)',decl:{start:{line:77,column:35},end:{line:77,column:36}},loc:{start:{line:77,column:50},end:{line:88,column:9}},line:77},'9':{name:'(anonymous_9)',decl:{start:{line:84,column:20},end:{line:84,column:21}},loc:{start:{line:84,column:29},end:{line:87,column:11}},line:84},'10':{name:'(anonymous_10)',decl:{start:{line:92,column:43},end:{line:92,column:44}},loc:{start:{line:92,column:66},end:{line:116,column:5}},line:92},'11':{name:'(anonymous_11)',decl:{start:{line:97,column:51},end:{line:97,column:52}},loc:{start:{line:97,column:79},end:{line:115,column:7}},line:97},'12':{name:'(anonymous_12)',decl:{start:{line:111,column:20},end:{line:111,column:21}},loc:{start:{line:111,column:29},end:{line:113,column:11}},line:111},'13':{name:'(anonymous_13)',decl:{start:{line:128,column:3},end:{line:128,column:4}},loc:{start:{line:128,column:54},end:{line:177,column:1}},line:128},'14':{name:'(anonymous_14)',decl:{start:{line:130,column:41},end:{line:130,column:42}},loc:{start:{line:130,column:64},end:{line:149,column:5}},line:130},'15':{name:'(anonymous_15)',decl:{start:{line:135,column:35},end:{line:135,column:36}},loc:{start:{line:135,column:50},end:{line:147,column:9}},line:135},'16':{name:'(anonymous_16)',decl:{start:{line:143,column:20},end:{line:143,column:21}},loc:{start:{line:143,column:29},end:{line:146,column:11}},line:143},'17':{name:'(anonymous_17)',decl:{start:{line:151,column:41},end:{line:151,column:42}},loc:{start:{line:151,column:64},end:{line:175,column:5}},line:151},'18':{name:'(anonymous_18)',decl:{start:{line:156,column:51},end:{line:156,column:52}},loc:{start:{line:156,column:79},end:{line:174,column:7}},line:156},'19':{name:'(anonymous_19)',decl:{start:{line:170,column:20},end:{line:170,column:21}},loc:{start:{line:170,column:29},end:{line:172,column:11}},line:170},'20':{name:'(anonymous_20)',decl:{start:{line:186,column:3},end:{line:186,column:4}},loc:{start:{line:186,column:53},end:{line:230,column:1}},line:186},'21':{name:'(anonymous_21)',decl:{start:{line:188,column:42},end:{line:188,column:43}},loc:{start:{line:188,column:65},end:{line:208,column:5}},line:188},'22':{name:'(anonymous_22)',decl:{start:{line:194,column:35},end:{line:194,column:36}},loc:{start:{line:194,column:50},end:{line:206,column:9}},line:194},'23':{name:'(anonymous_23)',decl:{start:{line:201,column:20},end:{line:201,column:21}},loc:{start:{line:201,column:29},end:{line:205,column:11}},line:201},'24':{name:'(anonymous_24)',decl:{start:{line:210,column:42},end:{line:210,column:43}},loc:{start:{line:210,column:65},end:{line:228,column:5}},line:210},'25':{name:'(anonymous_25)',decl:{start:{line:225,column:16},end:{line:225,column:17}},loc:{start:{line:225,column:25},end:{line:227,column:7}},line:225},'26':{name:'(anonymous_26)',decl:{start:{line:240,column:3},end:{line:240,column:4}},loc:{start:{line:240,column:54},end:{line:288,column:1}},line:240},'27':{name:'(anonymous_27)',decl:{start:{line:242,column:41},end:{line:242,column:42}},loc:{start:{line:242,column:64},end:{line:261,column:5}},line:242},'28':{name:'(anonymous_28)',decl:{start:{line:248,column:35},end:{line:248,column:36}},loc:{start:{line:248,column:50},end:{line:259,column:9}},line:248},'29':{name:'(anonymous_29)',decl:{start:{line:255,column:20},end:{line:255,column:21}},loc:{start:{line:255,column:29},end:{line:258,column:11}},line:255},'30':{name:'(anonymous_30)',decl:{start:{line:263,column:41},end:{line:263,column:42}},loc:{start:{line:263,column:64},end:{line:286,column:5}},line:263},'31':{name:'(anonymous_31)',decl:{start:{line:268,column:55},end:{line:268,column:56}},loc:{start:{line:268,column:83},end:{line:285,column:7}},line:268},'32':{name:'(anonymous_32)',decl:{start:{line:281,column:20},end:{line:281,column:21}},loc:{start:{line:281,column:29},end:{line:283,column:11}},line:281},'33':{name:'(anonymous_33)',decl:{start:{line:299,column:3},end:{line:299,column:4}},loc:{start:{line:299,column:54},end:{line:350,column:1}},line:299},'34':{name:'(anonymous_34)',decl:{start:{line:301,column:43},end:{line:301,column:44}},loc:{start:{line:301,column:66},end:{line:322,column:5}},line:301},'35':{name:'(anonymous_35)',decl:{start:{line:307,column:35},end:{line:307,column:36}},loc:{start:{line:307,column:50},end:{line:320,column:9}},line:307},'36':{name:'(anonymous_36)',decl:{start:{line:315,column:20},end:{line:315,column:21}},loc:{start:{line:315,column:29},end:{line:319,column:11}},line:315},'37':{name:'(anonymous_37)',decl:{start:{line:324,column:43},end:{line:324,column:44}},loc:{start:{line:324,column:66},end:{line:348,column:5}},line:324},'38':{name:'(anonymous_38)',decl:{start:{line:329,column:58},end:{line:329,column:59}},loc:{start:{line:329,column:86},end:{line:347,column:7}},line:329},'39':{name:'(anonymous_39)',decl:{start:{line:343,column:20},end:{line:343,column:21}},loc:{start:{line:343,column:29},end:{line:345,column:11}},line:343},'40':{name:'(anonymous_40)',decl:{start:{line:360,column:3},end:{line:360,column:4}},loc:{start:{line:360,column:54},end:{line:403,column:1}},line:360},'41':{name:'(anonymous_41)',decl:{start:{line:362,column:44},end:{line:362,column:45}},loc:{start:{line:362,column:67},end:{line:381,column:5}},line:362},'42':{name:'(anonymous_42)',decl:{start:{line:368,column:35},end:{line:368,column:36}},loc:{start:{line:368,column:50},end:{line:379,column:9}},line:368},'43':{name:'(anonymous_43)',decl:{start:{line:375,column:20},end:{line:375,column:21}},loc:{start:{line:375,column:29},end:{line:378,column:11}},line:375},'44':{name:'(anonymous_44)',decl:{start:{line:383,column:44},end:{line:383,column:45}},loc:{start:{line:383,column:67},end:{line:401,column:5}},line:383},'45':{name:'(anonymous_45)',decl:{start:{line:398,column:16},end:{line:398,column:17}},loc:{start:{line:398,column:25},end:{line:400,column:7}},line:398},'46':{name:'(anonymous_46)',decl:{start:{line:417,column:0},end:{line:417,column:1}},loc:{start:{line:417,column:44},end:{line:425,column:1}},line:417},'47':{name:'(anonymous_47)',decl:{start:{line:418,column:30},end:{line:418,column:31}},loc:{start:{line:418,column:45},end:{line:424,column:3}},line:418},'48':{name:'(anonymous_48)',decl:{start:{line:421,column:14},end:{line:421,column:15}},loc:{start:{line:421,column:23},end:{line:423,column:5}},line:421},'49':{name:'(anonymous_49)',decl:{start:{line:438,column:0},end:{line:438,column:1}},loc:{start:{line:438,column:51},end:{line:446,column:1}},line:438},'50':{name:'(anonymous_50)',decl:{start:{line:439,column:30},end:{line:439,column:31}},loc:{start:{line:439,column:45},end:{line:445,column:3}},line:439},'51':{name:'(anonymous_51)',decl:{start:{line:442,column:14},end:{line:442,column:15}},loc:{start:{line:442,column:23},end:{line:444,column:5}},line:442},'52':{name:'(anonymous_52)',decl:{start:{line:458,column:3},end:{line:458,column:4}},loc:{start:{line:458,column:30},end:{line:510,column:1}},line:458},'53':{name:'(anonymous_53)',decl:{start:{line:463,column:37},end:{line:463,column:38}},loc:{start:{line:463,column:60},end:{line:489,column:5}},line:463},'54':{name:'(anonymous_54)',decl:{start:{line:469,column:35},end:{line:469,column:36}},loc:{start:{line:469,column:50},end:{line:487,column:9}},line:469},'55':{name:'(anonymous_55)',decl:{start:{line:473,column:30},end:{line:473,column:31}},loc:{start:{line:473,column:57},end:{line:486,column:11}},line:473},'56':{name:'(anonymous_56)',decl:{start:{line:479,column:24},end:{line:479,column:25}},loc:{start:{line:479,column:33},end:{line:481,column:15}},line:479},'57':{name:'(anonymous_57)',decl:{start:{line:483,column:24},end:{line:483,column:25}},loc:{start:{line:483,column:33},end:{line:483,column:53}},line:483},'58':{name:'(anonymous_58)',decl:{start:{line:491,column:24},end:{line:491,column:25}},loc:{start:{line:491,column:51},end:{line:508,column:5}},line:491},'59':{name:'(anonymous_59)',decl:{start:{line:502,column:18},end:{line:502,column:19}},loc:{start:{line:502,column:27},end:{line:504,column:9}},line:502},'60':{name:'(anonymous_60)',decl:{start:{line:523,column:0},end:{line:523,column:1}},loc:{start:{line:523,column:51},end:{line:531,column:1}},line:523},'61':{name:'(anonymous_61)',decl:{start:{line:524,column:30},end:{line:524,column:31}},loc:{start:{line:524,column:45},end:{line:530,column:3}},line:524},'62':{name:'(anonymous_62)',decl:{start:{line:527,column:14},end:{line:527,column:15}},loc:{start:{line:527,column:23},end:{line:529,column:5}},line:527},'63':{name:'(anonymous_63)',decl:{start:{line:536,column:26},end:{line:536,column:27}},loc:{start:{line:536,column:46},end:{line:541,column:1}},line:536},'64':{name:'(anonymous_64)',decl:{start:{line:546,column:23},end:{line:546,column:24}},loc:{start:{line:546,column:43},end:{line:554,column:1}},line:546},'65':{name:'(anonymous_65)',decl:{start:{line:548,column:37},end:{line:548,column:38}},loc:{start:{line:548,column:46},end:{line:548,column:69}},line:548}},branchMap:{'0':{loc:{start:{line:31,column:4},end:{line:31,column:34}},type:'if',locations:[{start:{line:31,column:4},end:{line:31,column:34}},{start:{line:31,column:4},end:{line:31,column:34}}],line:31},'1':{loc:{start:{line:32,column:4},end:{line:34,column:5}},type:'if',locations:[{start:{line:32,column:4},end:{line:34,column:5}},{start:{line:32,column:4},end:{line:34,column:5}}],line:32},'2':{loc:{start:{line:36,column:6},end:{line:36,column:36}},type:'if',locations:[{start:{line:36,column:6},end:{line:36,column:36}},{start:{line:36,column:6},end:{line:36,column:36}}],line:36},'3':{loc:{start:{line:37,column:6},end:{line:39,column:7}},type:'if',locations:[{start:{line:37,column:6},end:{line:39,column:7}},{start:{line:37,column:6},end:{line:39,column:7}}],line:37},'4':{loc:{start:{line:70,column:2},end:{line:117,column:3}},type:'if',locations:[{start:{line:70,column:2},end:{line:117,column:3}},{start:{line:70,column:2},end:{line:117,column:3}}],line:70},'5':{loc:{start:{line:72,column:6},end:{line:72,column:36}},type:'if',locations:[{start:{line:72,column:6},end:{line:72,column:36}},{start:{line:72,column:6},end:{line:72,column:36}}],line:72},'6':{loc:{start:{line:73,column:6},end:{line:89,column:7}},type:'if',locations:[{start:{line:73,column:6},end:{line:89,column:7}},{start:{line:73,column:6},end:{line:89,column:7}}],line:73},'7':{loc:{start:{line:78,column:10},end:{line:78,column:40}},type:'if',locations:[{start:{line:78,column:10},end:{line:78,column:40}},{start:{line:78,column:10},end:{line:78,column:40}}],line:78},'8':{loc:{start:{line:81,column:30},end:{line:81,column:105}},type:'binary-expr',locations:[{start:{line:81,column:30},end:{line:81,column:47}},{start:{line:81,column:51},end:{line:81,column:105}}],line:81},'9':{loc:{start:{line:82,column:32},end:{line:82,column:75}},type:'binary-expr',locations:[{start:{line:82,column:32},end:{line:82,column:51}},{start:{line:82,column:55},end:{line:82,column:75}}],line:82},'10':{loc:{start:{line:83,column:33},end:{line:83,column:118}},type:'binary-expr',locations:[{start:{line:83,column:33},end:{line:83,column:53}},{start:{line:83,column:57},end:{line:83,column:118}}],line:83},'11':{loc:{start:{line:93,column:6},end:{line:93,column:36}},type:'if',locations:[{start:{line:93,column:6},end:{line:93,column:36}},{start:{line:93,column:6},end:{line:93,column:36}}],line:93},'12':{loc:{start:{line:94,column:6},end:{line:96,column:7}},type:'if',locations:[{start:{line:94,column:6},end:{line:96,column:7}},{start:{line:94,column:6},end:{line:96,column:7}}],line:94},'13':{loc:{start:{line:98,column:8},end:{line:98,column:38}},type:'if',locations:[{start:{line:98,column:8},end:{line:98,column:38}},{start:{line:98,column:8},end:{line:98,column:38}}],line:98},'14':{loc:{start:{line:99,column:8},end:{line:114,column:9}},type:'if',locations:[{start:{line:99,column:8},end:{line:114,column:9}},{start:{line:99,column:8},end:{line:114,column:9}}],line:99},'15':{loc:{start:{line:110,column:34},end:{line:110,column:93}},type:'cond-expr',locations:[{start:{line:110,column:61},end:{line:110,column:88}},{start:{line:110,column:91},end:{line:110,column:93}}],line:110},'16':{loc:{start:{line:129,column:2},end:{line:176,column:3}},type:'if',locations:[{start:{line:129,column:2},end:{line:176,column:3}},{start:{line:129,column:2},end:{line:176,column:3}}],line:129},'17':{loc:{start:{line:131,column:6},end:{line:148,column:7}},type:'if',locations:[{start:{line:131,column:6},end:{line:148,column:7}},{start:{line:131,column:6},end:{line:148,column:7}}],line:131},'18':{loc:{start:{line:136,column:10},end:{line:136,column:40}},type:'if',locations:[{start:{line:136,column:10},end:{line:136,column:40}},{start:{line:136,column:10},end:{line:136,column:40}}],line:136},'19':{loc:{start:{line:139,column:30},end:{line:139,column:70}},type:'binary-expr',locations:[{start:{line:139,column:30},end:{line:139,column:47}},{start:{line:139,column:51},end:{line:139,column:70}}],line:139},'20':{loc:{start:{line:140,column:33},end:{line:140,column:81}},type:'binary-expr',locations:[{start:{line:140,column:33},end:{line:140,column:53}},{start:{line:140,column:57},end:{line:140,column:81}}],line:140},'21':{loc:{start:{line:141,column:34},end:{line:141,column:81}},type:'binary-expr',locations:[{start:{line:141,column:34},end:{line:141,column:55}},{start:{line:141,column:59},end:{line:141,column:81}}],line:141},'22':{loc:{start:{line:142,column:33},end:{line:142,column:75}},type:'binary-expr',locations:[{start:{line:142,column:33},end:{line:142,column:53}},{start:{line:142,column:57},end:{line:142,column:75}}],line:142},'23':{loc:{start:{line:152,column:6},end:{line:152,column:36}},type:'if',locations:[{start:{line:152,column:6},end:{line:152,column:36}},{start:{line:152,column:6},end:{line:152,column:36}}],line:152},'24':{loc:{start:{line:153,column:6},end:{line:155,column:7}},type:'if',locations:[{start:{line:153,column:6},end:{line:155,column:7}},{start:{line:153,column:6},end:{line:155,column:7}}],line:153},'25':{loc:{start:{line:157,column:8},end:{line:157,column:38}},type:'if',locations:[{start:{line:157,column:8},end:{line:157,column:38}},{start:{line:157,column:8},end:{line:157,column:38}}],line:157},'26':{loc:{start:{line:158,column:8},end:{line:173,column:9}},type:'if',locations:[{start:{line:158,column:8},end:{line:173,column:9}},{start:{line:158,column:8},end:{line:173,column:9}}],line:158},'27':{loc:{start:{line:187,column:2},end:{line:229,column:3}},type:'if',locations:[{start:{line:187,column:2},end:{line:229,column:3}},{start:{line:187,column:2},end:{line:229,column:3}}],line:187},'28':{loc:{start:{line:189,column:6},end:{line:189,column:36}},type:'if',locations:[{start:{line:189,column:6},end:{line:189,column:36}},{start:{line:189,column:6},end:{line:189,column:36}}],line:189},'29':{loc:{start:{line:190,column:6},end:{line:207,column:7}},type:'if',locations:[{start:{line:190,column:6},end:{line:207,column:7}},{start:{line:190,column:6},end:{line:207,column:7}}],line:190},'30':{loc:{start:{line:195,column:10},end:{line:195,column:40}},type:'if',locations:[{start:{line:195,column:10},end:{line:195,column:40}},{start:{line:195,column:10},end:{line:195,column:40}}],line:195},'31':{loc:{start:{line:198,column:30},end:{line:198,column:70}},type:'binary-expr',locations:[{start:{line:198,column:30},end:{line:198,column:47}},{start:{line:198,column:51},end:{line:198,column:70}}],line:198},'32':{loc:{start:{line:199,column:34},end:{line:199,column:81}},type:'binary-expr',locations:[{start:{line:199,column:34},end:{line:199,column:55}},{start:{line:199,column:59},end:{line:199,column:81}}],line:199},'33':{loc:{start:{line:200,column:33},end:{line:200,column:94}},type:'binary-expr',locations:[{start:{line:200,column:33},end:{line:200,column:53}},{start:{line:200,column:57},end:{line:200,column:94}}],line:200},'34':{loc:{start:{line:202,column:12},end:{line:202,column:42}},type:'if',locations:[{start:{line:202,column:12},end:{line:202,column:42}},{start:{line:202,column:12},end:{line:202,column:42}}],line:202},'35':{loc:{start:{line:211,column:6},end:{line:211,column:36}},type:'if',locations:[{start:{line:211,column:6},end:{line:211,column:36}},{start:{line:211,column:6},end:{line:211,column:36}}],line:211},'36':{loc:{start:{line:212,column:6},end:{line:214,column:7}},type:'if',locations:[{start:{line:212,column:6},end:{line:214,column:7}},{start:{line:212,column:6},end:{line:214,column:7}}],line:212},'37':{loc:{start:{line:241,column:2},end:{line:287,column:3}},type:'if',locations:[{start:{line:241,column:2},end:{line:287,column:3}},{start:{line:241,column:2},end:{line:287,column:3}}],line:241},'38':{loc:{start:{line:243,column:6},end:{line:243,column:36}},type:'if',locations:[{start:{line:243,column:6},end:{line:243,column:36}},{start:{line:243,column:6},end:{line:243,column:36}}],line:243},'39':{loc:{start:{line:244,column:6},end:{line:260,column:7}},type:'if',locations:[{start:{line:244,column:6},end:{line:260,column:7}},{start:{line:244,column:6},end:{line:260,column:7}}],line:244},'40':{loc:{start:{line:249,column:10},end:{line:249,column:40}},type:'if',locations:[{start:{line:249,column:10},end:{line:249,column:40}},{start:{line:249,column:10},end:{line:249,column:40}}],line:249},'41':{loc:{start:{line:252,column:30},end:{line:252,column:70}},type:'binary-expr',locations:[{start:{line:252,column:30},end:{line:252,column:47}},{start:{line:252,column:51},end:{line:252,column:70}}],line:252},'42':{loc:{start:{line:253,column:32},end:{line:253,column:75}},type:'binary-expr',locations:[{start:{line:253,column:32},end:{line:253,column:51}},{start:{line:253,column:55},end:{line:253,column:75}}],line:253},'43':{loc:{start:{line:254,column:33},end:{line:254,column:80}},type:'binary-expr',locations:[{start:{line:254,column:33},end:{line:254,column:53}},{start:{line:254,column:57},end:{line:254,column:80}}],line:254},'44':{loc:{start:{line:264,column:6},end:{line:264,column:36}},type:'if',locations:[{start:{line:264,column:6},end:{line:264,column:36}},{start:{line:264,column:6},end:{line:264,column:36}}],line:264},'45':{loc:{start:{line:265,column:6},end:{line:267,column:7}},type:'if',locations:[{start:{line:265,column:6},end:{line:267,column:7}},{start:{line:265,column:6},end:{line:267,column:7}}],line:265},'46':{loc:{start:{line:269,column:8},end:{line:269,column:38}},type:'if',locations:[{start:{line:269,column:8},end:{line:269,column:38}},{start:{line:269,column:8},end:{line:269,column:38}}],line:269},'47':{loc:{start:{line:270,column:8},end:{line:284,column:9}},type:'if',locations:[{start:{line:270,column:8},end:{line:284,column:9}},{start:{line:270,column:8},end:{line:284,column:9}}],line:270},'48':{loc:{start:{line:300,column:2},end:{line:349,column:3}},type:'if',locations:[{start:{line:300,column:2},end:{line:349,column:3}},{start:{line:300,column:2},end:{line:349,column:3}}],line:300},'49':{loc:{start:{line:302,column:6},end:{line:302,column:36}},type:'if',locations:[{start:{line:302,column:6},end:{line:302,column:36}},{start:{line:302,column:6},end:{line:302,column:36}}],line:302},'50':{loc:{start:{line:303,column:6},end:{line:321,column:7}},type:'if',locations:[{start:{line:303,column:6},end:{line:321,column:7}},{start:{line:303,column:6},end:{line:321,column:7}}],line:303},'51':{loc:{start:{line:308,column:10},end:{line:308,column:40}},type:'if',locations:[{start:{line:308,column:10},end:{line:308,column:40}},{start:{line:308,column:10},end:{line:308,column:40}}],line:308},'52':{loc:{start:{line:311,column:30},end:{line:311,column:70}},type:'binary-expr',locations:[{start:{line:311,column:30},end:{line:311,column:47}},{start:{line:311,column:51},end:{line:311,column:70}}],line:311},'53':{loc:{start:{line:312,column:34},end:{line:312,column:86}},type:'binary-expr',locations:[{start:{line:312,column:34},end:{line:312,column:55}},{start:{line:312,column:59},end:{line:312,column:86}}],line:312},'54':{loc:{start:{line:313,column:33},end:{line:313,column:81}},type:'binary-expr',locations:[{start:{line:313,column:33},end:{line:313,column:53}},{start:{line:313,column:57},end:{line:313,column:81}}],line:313},'55':{loc:{start:{line:314,column:33},end:{line:314,column:87}},type:'binary-expr',locations:[{start:{line:314,column:33},end:{line:314,column:53}},{start:{line:314,column:57},end:{line:314,column:87}}],line:314},'56':{loc:{start:{line:316,column:12},end:{line:316,column:42}},type:'if',locations:[{start:{line:316,column:12},end:{line:316,column:42}},{start:{line:316,column:12},end:{line:316,column:42}}],line:316},'57':{loc:{start:{line:325,column:6},end:{line:325,column:36}},type:'if',locations:[{start:{line:325,column:6},end:{line:325,column:36}},{start:{line:325,column:6},end:{line:325,column:36}}],line:325},'58':{loc:{start:{line:326,column:6},end:{line:328,column:7}},type:'if',locations:[{start:{line:326,column:6},end:{line:328,column:7}},{start:{line:326,column:6},end:{line:328,column:7}}],line:326},'59':{loc:{start:{line:330,column:8},end:{line:330,column:38}},type:'if',locations:[{start:{line:330,column:8},end:{line:330,column:38}},{start:{line:330,column:8},end:{line:330,column:38}}],line:330},'60':{loc:{start:{line:331,column:8},end:{line:346,column:9}},type:'if',locations:[{start:{line:331,column:8},end:{line:346,column:9}},{start:{line:331,column:8},end:{line:346,column:9}}],line:331},'61':{loc:{start:{line:361,column:2},end:{line:402,column:3}},type:'if',locations:[{start:{line:361,column:2},end:{line:402,column:3}},{start:{line:361,column:2},end:{line:402,column:3}}],line:361},'62':{loc:{start:{line:363,column:6},end:{line:363,column:36}},type:'if',locations:[{start:{line:363,column:6},end:{line:363,column:36}},{start:{line:363,column:6},end:{line:363,column:36}}],line:363},'63':{loc:{start:{line:364,column:6},end:{line:380,column:7}},type:'if',locations:[{start:{line:364,column:6},end:{line:380,column:7}},{start:{line:364,column:6},end:{line:380,column:7}}],line:364},'64':{loc:{start:{line:369,column:10},end:{line:369,column:40}},type:'if',locations:[{start:{line:369,column:10},end:{line:369,column:40}},{start:{line:369,column:10},end:{line:369,column:40}}],line:369},'65':{loc:{start:{line:372,column:30},end:{line:372,column:70}},type:'binary-expr',locations:[{start:{line:372,column:30},end:{line:372,column:47}},{start:{line:372,column:51},end:{line:372,column:70}}],line:372},'66':{loc:{start:{line:373,column:33},end:{line:373,column:91}},type:'binary-expr',locations:[{start:{line:373,column:33},end:{line:373,column:53}},{start:{line:373,column:57},end:{line:373,column:91}}],line:373},'67':{loc:{start:{line:374,column:33},end:{line:374,column:83}},type:'binary-expr',locations:[{start:{line:374,column:33},end:{line:374,column:53}},{start:{line:374,column:57},end:{line:374,column:83}}],line:374},'68':{loc:{start:{line:384,column:6},end:{line:384,column:36}},type:'if',locations:[{start:{line:384,column:6},end:{line:384,column:36}},{start:{line:384,column:6},end:{line:384,column:36}}],line:384},'69':{loc:{start:{line:385,column:6},end:{line:387,column:7}},type:'if',locations:[{start:{line:385,column:6},end:{line:387,column:7}},{start:{line:385,column:6},end:{line:387,column:7}}],line:385},'70':{loc:{start:{line:419,column:4},end:{line:419,column:34}},type:'if',locations:[{start:{line:419,column:4},end:{line:419,column:34}},{start:{line:419,column:4},end:{line:419,column:34}}],line:419},'71':{loc:{start:{line:440,column:4},end:{line:440,column:34}},type:'if',locations:[{start:{line:440,column:4},end:{line:440,column:34}},{start:{line:440,column:4},end:{line:440,column:34}}],line:440},'72':{loc:{start:{line:462,column:2},end:{line:509,column:3}},type:'if',locations:[{start:{line:462,column:2},end:{line:509,column:3}},{start:{line:462,column:2},end:{line:509,column:3}}],line:462},'73':{loc:{start:{line:464,column:6},end:{line:464,column:36}},type:'if',locations:[{start:{line:464,column:6},end:{line:464,column:36}},{start:{line:464,column:6},end:{line:464,column:36}}],line:464},'74':{loc:{start:{line:465,column:6},end:{line:488,column:7}},type:'if',locations:[{start:{line:465,column:6},end:{line:488,column:7}},{start:{line:465,column:6},end:{line:488,column:7}}],line:465},'75':{loc:{start:{line:470,column:10},end:{line:470,column:40}},type:'if',locations:[{start:{line:470,column:10},end:{line:470,column:40}},{start:{line:470,column:10},end:{line:470,column:40}}],line:470},'76':{loc:{start:{line:474,column:12},end:{line:485,column:13}},type:'if',locations:[{start:{line:474,column:12},end:{line:485,column:13}},{start:{line:474,column:12},end:{line:485,column:13}}],line:474},'77':{loc:{start:{line:474,column:16},end:{line:474,column:53}},type:'binary-expr',locations:[{start:{line:474,column:16},end:{line:474,column:22}},{start:{line:474,column:26},end:{line:474,column:53}}],line:474},'78':{loc:{start:{line:477,column:34},end:{line:477,column:74}},type:'binary-expr',locations:[{start:{line:477,column:34},end:{line:477,column:51}},{start:{line:477,column:55},end:{line:477,column:74}}],line:477},'79':{loc:{start:{line:478,column:37},end:{line:478,column:81}},type:'binary-expr',locations:[{start:{line:478,column:37},end:{line:478,column:57}},{start:{line:478,column:61},end:{line:478,column:81}}],line:478},'80':{loc:{start:{line:492,column:6},end:{line:507,column:7}},type:'if',locations:[{start:{line:492,column:6},end:{line:507,column:7}},{start:{line:492,column:6},end:{line:507,column:7}}],line:492},'81':{loc:{start:{line:492,column:10},end:{line:492,column:47}},type:'binary-expr',locations:[{start:{line:492,column:10},end:{line:492,column:16}},{start:{line:492,column:20},end:{line:492,column:47}}],line:492},'82':{loc:{start:{line:525,column:4},end:{line:525,column:34}},type:'if',locations:[{start:{line:525,column:4},end:{line:525,column:34}},{start:{line:525,column:4},end:{line:525,column:34}}],line:525},'83':{loc:{start:{line:537,column:2},end:{line:539,column:3}},type:'if',locations:[{start:{line:537,column:2},end:{line:539,column:3}},{start:{line:537,column:2},end:{line:539,column:3}}],line:537},'84':{loc:{start:{line:549,column:2},end:{line:553,column:3}},type:'if',locations:[{start:{line:549,column:2},end:{line:553,column:3}},{start:{line:549,column:2},end:{line:553,column:3}}],line:549}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0,'139':0,'140':0,'141':0,'142':0,'143':0,'144':0,'145':0,'146':0,'147':0,'148':0,'149':0,'150':0,'151':0,'152':0,'153':0,'154':0,'155':0,'156':0,'157':0,'158':0,'159':0,'160':0,'161':0,'162':0,'163':0,'164':0,'165':0,'166':0,'167':0,'168':0,'169':0,'170':0,'171':0,'172':0,'173':0,'174':0,'175':0,'176':0,'177':0,'178':0,'179':0,'180':0,'181':0,'182':0,'183':0,'184':0,'185':0,'186':0,'187':0,'188':0,'189':0,'190':0,'191':0,'192':0,'193':0,'194':0,'195':0,'196':0,'197':0,'198':0,'199':0,'200':0,'201':0,'202':0,'203':0,'204':0,'205':0,'206':0,'207':0,'208':0,'209':0,'210':0,'211':0,'212':0,'213':0,'214':0,'215':0,'216':0,'217':0,'218':0,'219':0,'220':0,'221':0,'222':0,'223':0,'224':0,'225':0,'226':0,'227':0,'228':0,'229':0,'230':0,'231':0,'232':0,'233':0,'234':0,'235':0,'236':0,'237':0,'238':0,'239':0,'240':0,'241':0,'242':0,'243':0,'244':0,'245':0,'246':0,'247':0,'248':0,'249':0,'250':0,'251':0,'252':0,'253':0,'254':0,'255':0,'256':0,'257':0,'258':0,'259':0,'260':0,'261':0,'262':0,'263':0,'264':0,'265':0,'266':0,'267':0,'268':0,'269':0,'270':0,'271':0,'272':0,'273':0,'274':0,'275':0,'276':0,'277':0,'278':0,'279':0,'280':0,'281':0,'282':0,'283':0,'284':0,'285':0,'286':0,'287':0,'288':0,'289':0,'290':0,'291':0,'292':0,'293':0,'294':0,'295':0,'296':0,'297':0,'298':0,'299':0,'300':0,'301':0,'302':0,'303':0,'304':0,'305':0,'306':0,'307':0,'308':0,'309':0,'310':0,'311':0,'312':0,'313':0,'314':0,'315':0,'316':0,'317':0,'318':0,'319':0,'320':0,'321':0,'322':0,'323':0,'324':0,'325':0,'326':0,'327':0,'328':0,'329':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0],'20':[0,0],'21':[0,0],'22':[0,0],'23':[0,0],'24':[0,0],'25':[0,0],'26':[0,0],'27':[0,0],'28':[0,0],'29':[0,0],'30':[0,0],'31':[0,0],'32':[0,0],'33':[0,0],'34':[0,0],'35':[0,0],'36':[0,0],'37':[0,0],'38':[0,0],'39':[0,0],'40':[0,0],'41':[0,0],'42':[0,0],'43':[0,0],'44':[0,0],'45':[0,0],'46':[0,0],'47':[0,0],'48':[0,0],'49':[0,0],'50':[0,0],'51':[0,0],'52':[0,0],'53':[0,0],'54':[0,0],'55':[0,0],'56':[0,0],'57':[0,0],'58':[0,0],'59':[0,0],'60':[0,0],'61':[0,0],'62':[0,0],'63':[0,0],'64':[0,0],'65':[0,0],'66':[0,0],'67':[0,0],'68':[0,0],'69':[0,0],'70':[0,0],'71':[0,0],'72':[0,0],'73':[0,0],'74':[0,0],'75':[0,0],'76':[0,0],'77':[0,0],'78':[0,0],'79':[0,0],'80':[0,0],'81':[0,0],'82':[0,0],'83':[0,0],'84':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const passport=(cov_1i6ws0izis.s[0]++,require('passport'));const request=(cov_1i6ws0izis.s[1]++,require('request'));const{Strategy:InstagramStrategy}=(cov_1i6ws0izis.s[2]++,require('passport-instagram'));const{Strategy:LocalStrategy}=(cov_1i6ws0izis.s[3]++,require('passport-local'));const{Strategy:FacebookStrategy}=(cov_1i6ws0izis.s[4]++,require('passport-facebook'));const{Strategy:TwitterStrategy}=(cov_1i6ws0izis.s[5]++,require('passport-twitter'));const{Strategy:GitHubStrategy}=(cov_1i6ws0izis.s[6]++,require('passport-github'));const{OAuth2Strategy:GoogleStrategy}=(cov_1i6ws0izis.s[7]++,require('passport-google-oauth'));const{Strategy:LinkedInStrategy}=(cov_1i6ws0izis.s[8]++,require('passport-linkedin-oauth2'));const{Strategy:OpenIDStrategy}=(cov_1i6ws0izis.s[9]++,require('passport-openid'));const{OAuthStrategy}=(cov_1i6ws0izis.s[10]++,require('passport-oauth'));const{OAuth2Strategy}=(cov_1i6ws0izis.s[11]++,require('passport-oauth'));const User=(cov_1i6ws0izis.s[12]++,require('../models/User'));cov_1i6ws0izis.s[13]++;passport.serializeUser((user,done)=>{cov_1i6ws0izis.f[0]++;cov_1i6ws0izis.s[14]++;done(null,user.id);});cov_1i6ws0izis.s[15]++;passport.deserializeUser((id,done)=>{cov_1i6ws0izis.f[1]++;cov_1i6ws0izis.s[16]++;User.findById(id,(err,user)=>{cov_1i6ws0izis.f[2]++;cov_1i6ws0izis.s[17]++;done(err,user);});});/**
 * Sign in using Email and Password.
 */cov_1i6ws0izis.s[18]++;passport.use(new LocalStrategy({usernameField:'email'},(email,password,done)=>{cov_1i6ws0izis.f[3]++;cov_1i6ws0izis.s[19]++;User.findOne({email:email.toLowerCase()},(err,user)=>{cov_1i6ws0izis.f[4]++;cov_1i6ws0izis.s[20]++;if(err){cov_1i6ws0izis.b[0][0]++;cov_1i6ws0izis.s[21]++;return done(err);}else{cov_1i6ws0izis.b[0][1]++;}cov_1i6ws0izis.s[22]++;if(!user){cov_1i6ws0izis.b[1][0]++;cov_1i6ws0izis.s[23]++;return done(null,false,{msg:`Email ${email} not found.`});}else{cov_1i6ws0izis.b[1][1]++;}cov_1i6ws0izis.s[24]++;user.comparePassword(password,(err,isMatch)=>{cov_1i6ws0izis.f[5]++;cov_1i6ws0izis.s[25]++;if(err){cov_1i6ws0izis.b[2][0]++;cov_1i6ws0izis.s[26]++;return done(err);}else{cov_1i6ws0izis.b[2][1]++;}cov_1i6ws0izis.s[27]++;if(isMatch){cov_1i6ws0izis.b[3][0]++;cov_1i6ws0izis.s[28]++;return done(null,user);}else{cov_1i6ws0izis.b[3][1]++;}cov_1i6ws0izis.s[29]++;return done(null,false,{msg:'Invalid email or password.'});});});}));/**
 * OAuth Strategy Overview
 *
 * - User is already logged in.
 *   - Check if there is an existing account with a provider id.
 *     - If there is, return an error message. (Account merging not supported)
 *     - Else link new OAuth account with currently logged-in user.
 * - User is not logged in.
 *   - Check if it's a returning user.
 *     - If returning user, sign in and we are done.
 *     - Else check if there is an existing account with user's email.
 *       - If there is, return an error message.
 *       - Else create a new account.
 *//**
 * Sign in with Facebook.
 */cov_1i6ws0izis.s[30]++;passport.use(new FacebookStrategy({clientID:process.env.FACEBOOK_ID,clientSecret:process.env.FACEBOOK_SECRET,callbackURL:'/auth/facebook/callback',profileFields:['name','email','link','locale','timezone','gender'],passReqToCallback:true},(req,accessToken,refreshToken,profile,done)=>{cov_1i6ws0izis.f[6]++;cov_1i6ws0izis.s[31]++;if(req.user){cov_1i6ws0izis.b[4][0]++;cov_1i6ws0izis.s[32]++;User.findOne({facebook:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[7]++;cov_1i6ws0izis.s[33]++;if(err){cov_1i6ws0izis.b[5][0]++;cov_1i6ws0izis.s[34]++;return done(err);}else{cov_1i6ws0izis.b[5][1]++;}cov_1i6ws0izis.s[35]++;if(existingUser){cov_1i6ws0izis.b[6][0]++;cov_1i6ws0izis.s[36]++;req.flash('errors',{msg:'There is already a Facebook account that belongs to you. Sign in with that account or delete it, then link it with your current account.'});cov_1i6ws0izis.s[37]++;done(err);}else{cov_1i6ws0izis.b[6][1]++;cov_1i6ws0izis.s[38]++;User.findById(req.user.id,(err,user)=>{cov_1i6ws0izis.f[8]++;cov_1i6ws0izis.s[39]++;if(err){cov_1i6ws0izis.b[7][0]++;cov_1i6ws0izis.s[40]++;return done(err);}else{cov_1i6ws0izis.b[7][1]++;}cov_1i6ws0izis.s[41]++;user.facebook=profile.id;cov_1i6ws0izis.s[42]++;user.tokens.push({kind:'facebook',accessToken});cov_1i6ws0izis.s[43]++;user.profile.name=(cov_1i6ws0izis.b[8][0]++,user.profile.name)||(cov_1i6ws0izis.b[8][1]++,`${profile.name.givenName} ${profile.name.familyName}`);cov_1i6ws0izis.s[44]++;user.profile.gender=(cov_1i6ws0izis.b[9][0]++,user.profile.gender)||(cov_1i6ws0izis.b[9][1]++,profile._json.gender);cov_1i6ws0izis.s[45]++;user.profile.picture=(cov_1i6ws0izis.b[10][0]++,user.profile.picture)||(cov_1i6ws0izis.b[10][1]++,`https://graph.facebook.com/${profile.id}/picture?type=large`);cov_1i6ws0izis.s[46]++;user.save(err=>{cov_1i6ws0izis.f[9]++;cov_1i6ws0izis.s[47]++;req.flash('info',{msg:'Facebook account has been linked.'});cov_1i6ws0izis.s[48]++;done(err,user);});});}});}else{cov_1i6ws0izis.b[4][1]++;cov_1i6ws0izis.s[49]++;User.findOne({facebook:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[10]++;cov_1i6ws0izis.s[50]++;if(err){cov_1i6ws0izis.b[11][0]++;cov_1i6ws0izis.s[51]++;return done(err);}else{cov_1i6ws0izis.b[11][1]++;}cov_1i6ws0izis.s[52]++;if(existingUser){cov_1i6ws0izis.b[12][0]++;cov_1i6ws0izis.s[53]++;return done(null,existingUser);}else{cov_1i6ws0izis.b[12][1]++;}cov_1i6ws0izis.s[54]++;User.findOne({email:profile._json.email},(err,existingEmailUser)=>{cov_1i6ws0izis.f[11]++;cov_1i6ws0izis.s[55]++;if(err){cov_1i6ws0izis.b[13][0]++;cov_1i6ws0izis.s[56]++;return done(err);}else{cov_1i6ws0izis.b[13][1]++;}cov_1i6ws0izis.s[57]++;if(existingEmailUser){cov_1i6ws0izis.b[14][0]++;cov_1i6ws0izis.s[58]++;req.flash('errors',{msg:'There is already an account using this email address. Sign in to that account and link it with Facebook manually from Account Settings.'});cov_1i6ws0izis.s[59]++;done(err);}else{cov_1i6ws0izis.b[14][1]++;const user=(cov_1i6ws0izis.s[60]++,new User());cov_1i6ws0izis.s[61]++;user.email=profile._json.email;cov_1i6ws0izis.s[62]++;user.facebook=profile.id;cov_1i6ws0izis.s[63]++;user.tokens.push({kind:'facebook',accessToken});cov_1i6ws0izis.s[64]++;user.profile.name=`${profile.name.givenName} ${profile.name.familyName}`;cov_1i6ws0izis.s[65]++;user.profile.gender=profile._json.gender;cov_1i6ws0izis.s[66]++;user.profile.picture=`https://graph.facebook.com/${profile.id}/picture?type=large`;cov_1i6ws0izis.s[67]++;user.profile.location=profile._json.location?(cov_1i6ws0izis.b[15][0]++,profile._json.location.name):(cov_1i6ws0izis.b[15][1]++,'');cov_1i6ws0izis.s[68]++;user.save(err=>{cov_1i6ws0izis.f[12]++;cov_1i6ws0izis.s[69]++;done(err,user);});}});});}}));/**
 * Sign in with GitHub.
 */cov_1i6ws0izis.s[70]++;passport.use(new GitHubStrategy({clientID:process.env.GITHUB_ID,clientSecret:process.env.GITHUB_SECRET,callbackURL:'/auth/github/callback',passReqToCallback:true},(req,accessToken,refreshToken,profile,done)=>{cov_1i6ws0izis.f[13]++;cov_1i6ws0izis.s[71]++;if(req.user){cov_1i6ws0izis.b[16][0]++;cov_1i6ws0izis.s[72]++;User.findOne({github:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[14]++;cov_1i6ws0izis.s[73]++;if(existingUser){cov_1i6ws0izis.b[17][0]++;cov_1i6ws0izis.s[74]++;req.flash('errors',{msg:'There is already a GitHub account that belongs to you. Sign in with that account or delete it, then link it with your current account.'});cov_1i6ws0izis.s[75]++;done(err);}else{cov_1i6ws0izis.b[17][1]++;cov_1i6ws0izis.s[76]++;User.findById(req.user.id,(err,user)=>{cov_1i6ws0izis.f[15]++;cov_1i6ws0izis.s[77]++;if(err){cov_1i6ws0izis.b[18][0]++;cov_1i6ws0izis.s[78]++;return done(err);}else{cov_1i6ws0izis.b[18][1]++;}cov_1i6ws0izis.s[79]++;user.github=profile.id;cov_1i6ws0izis.s[80]++;user.tokens.push({kind:'github',accessToken});cov_1i6ws0izis.s[81]++;user.profile.name=(cov_1i6ws0izis.b[19][0]++,user.profile.name)||(cov_1i6ws0izis.b[19][1]++,profile.displayName);cov_1i6ws0izis.s[82]++;user.profile.picture=(cov_1i6ws0izis.b[20][0]++,user.profile.picture)||(cov_1i6ws0izis.b[20][1]++,profile._json.avatar_url);cov_1i6ws0izis.s[83]++;user.profile.location=(cov_1i6ws0izis.b[21][0]++,user.profile.location)||(cov_1i6ws0izis.b[21][1]++,profile._json.location);cov_1i6ws0izis.s[84]++;user.profile.website=(cov_1i6ws0izis.b[22][0]++,user.profile.website)||(cov_1i6ws0izis.b[22][1]++,profile._json.blog);cov_1i6ws0izis.s[85]++;user.save(err=>{cov_1i6ws0izis.f[16]++;cov_1i6ws0izis.s[86]++;req.flash('info',{msg:'GitHub account has been linked.'});cov_1i6ws0izis.s[87]++;done(err,user);});});}});}else{cov_1i6ws0izis.b[16][1]++;cov_1i6ws0izis.s[88]++;User.findOne({github:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[17]++;cov_1i6ws0izis.s[89]++;if(err){cov_1i6ws0izis.b[23][0]++;cov_1i6ws0izis.s[90]++;return done(err);}else{cov_1i6ws0izis.b[23][1]++;}cov_1i6ws0izis.s[91]++;if(existingUser){cov_1i6ws0izis.b[24][0]++;cov_1i6ws0izis.s[92]++;return done(null,existingUser);}else{cov_1i6ws0izis.b[24][1]++;}cov_1i6ws0izis.s[93]++;User.findOne({email:profile._json.email},(err,existingEmailUser)=>{cov_1i6ws0izis.f[18]++;cov_1i6ws0izis.s[94]++;if(err){cov_1i6ws0izis.b[25][0]++;cov_1i6ws0izis.s[95]++;return done(err);}else{cov_1i6ws0izis.b[25][1]++;}cov_1i6ws0izis.s[96]++;if(existingEmailUser){cov_1i6ws0izis.b[26][0]++;cov_1i6ws0izis.s[97]++;req.flash('errors',{msg:'There is already an account using this email address. Sign in to that account and link it with GitHub manually from Account Settings.'});cov_1i6ws0izis.s[98]++;done(err);}else{cov_1i6ws0izis.b[26][1]++;const user=(cov_1i6ws0izis.s[99]++,new User());cov_1i6ws0izis.s[100]++;user.email=profile._json.email;cov_1i6ws0izis.s[101]++;user.github=profile.id;cov_1i6ws0izis.s[102]++;user.tokens.push({kind:'github',accessToken});cov_1i6ws0izis.s[103]++;user.profile.name=profile.displayName;cov_1i6ws0izis.s[104]++;user.profile.picture=profile._json.avatar_url;cov_1i6ws0izis.s[105]++;user.profile.location=profile._json.location;cov_1i6ws0izis.s[106]++;user.profile.website=profile._json.blog;cov_1i6ws0izis.s[107]++;user.save(err=>{cov_1i6ws0izis.f[19]++;cov_1i6ws0izis.s[108]++;done(err,user);});}});});}}));// Sign in with Twitter.
cov_1i6ws0izis.s[109]++;passport.use(new TwitterStrategy({consumerKey:process.env.TWITTER_KEY,consumerSecret:process.env.TWITTER_SECRET,callbackURL:'/auth/twitter/callback',passReqToCallback:true},(req,accessToken,tokenSecret,profile,done)=>{cov_1i6ws0izis.f[20]++;cov_1i6ws0izis.s[110]++;if(req.user){cov_1i6ws0izis.b[27][0]++;cov_1i6ws0izis.s[111]++;User.findOne({twitter:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[21]++;cov_1i6ws0izis.s[112]++;if(err){cov_1i6ws0izis.b[28][0]++;cov_1i6ws0izis.s[113]++;return done(err);}else{cov_1i6ws0izis.b[28][1]++;}cov_1i6ws0izis.s[114]++;if(existingUser){cov_1i6ws0izis.b[29][0]++;cov_1i6ws0izis.s[115]++;req.flash('errors',{msg:'There is already a Twitter account that belongs to you. Sign in with that account or delete it, then link it with your current account.'});cov_1i6ws0izis.s[116]++;done(err);}else{cov_1i6ws0izis.b[29][1]++;cov_1i6ws0izis.s[117]++;User.findById(req.user.id,(err,user)=>{cov_1i6ws0izis.f[22]++;cov_1i6ws0izis.s[118]++;if(err){cov_1i6ws0izis.b[30][0]++;cov_1i6ws0izis.s[119]++;return done(err);}else{cov_1i6ws0izis.b[30][1]++;}cov_1i6ws0izis.s[120]++;user.twitter=profile.id;cov_1i6ws0izis.s[121]++;user.tokens.push({kind:'twitter',accessToken,tokenSecret});cov_1i6ws0izis.s[122]++;user.profile.name=(cov_1i6ws0izis.b[31][0]++,user.profile.name)||(cov_1i6ws0izis.b[31][1]++,profile.displayName);cov_1i6ws0izis.s[123]++;user.profile.location=(cov_1i6ws0izis.b[32][0]++,user.profile.location)||(cov_1i6ws0izis.b[32][1]++,profile._json.location);cov_1i6ws0izis.s[124]++;user.profile.picture=(cov_1i6ws0izis.b[33][0]++,user.profile.picture)||(cov_1i6ws0izis.b[33][1]++,profile._json.profile_image_url_https);cov_1i6ws0izis.s[125]++;user.save(err=>{cov_1i6ws0izis.f[23]++;cov_1i6ws0izis.s[126]++;if(err){cov_1i6ws0izis.b[34][0]++;cov_1i6ws0izis.s[127]++;return done(err);}else{cov_1i6ws0izis.b[34][1]++;}cov_1i6ws0izis.s[128]++;req.flash('info',{msg:'Twitter account has been linked.'});cov_1i6ws0izis.s[129]++;done(err,user);});});}});}else{cov_1i6ws0izis.b[27][1]++;cov_1i6ws0izis.s[130]++;User.findOne({twitter:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[24]++;cov_1i6ws0izis.s[131]++;if(err){cov_1i6ws0izis.b[35][0]++;cov_1i6ws0izis.s[132]++;return done(err);}else{cov_1i6ws0izis.b[35][1]++;}cov_1i6ws0izis.s[133]++;if(existingUser){cov_1i6ws0izis.b[36][0]++;cov_1i6ws0izis.s[134]++;return done(null,existingUser);}else{cov_1i6ws0izis.b[36][1]++;}const user=(cov_1i6ws0izis.s[135]++,new User());// Twitter will not provide an email address.  Period.
// But a person’s twitter username is guaranteed to be unique
// so we can "fake" a twitter email address as follows:
cov_1i6ws0izis.s[136]++;user.email=`${profile.username}@twitter.com`;cov_1i6ws0izis.s[137]++;user.twitter=profile.id;cov_1i6ws0izis.s[138]++;user.tokens.push({kind:'twitter',accessToken,tokenSecret});cov_1i6ws0izis.s[139]++;user.profile.name=profile.displayName;cov_1i6ws0izis.s[140]++;user.profile.location=profile._json.location;cov_1i6ws0izis.s[141]++;user.profile.picture=profile._json.profile_image_url_https;cov_1i6ws0izis.s[142]++;user.save(err=>{cov_1i6ws0izis.f[25]++;cov_1i6ws0izis.s[143]++;done(err,user);});});}}));/**
 * Sign in with Google.
 */cov_1i6ws0izis.s[144]++;passport.use(new GoogleStrategy({clientID:process.env.GOOGLE_ID,clientSecret:process.env.GOOGLE_SECRET,callbackURL:'/auth/google/callback',passReqToCallback:true},(req,accessToken,refreshToken,profile,done)=>{cov_1i6ws0izis.f[26]++;cov_1i6ws0izis.s[145]++;if(req.user){cov_1i6ws0izis.b[37][0]++;cov_1i6ws0izis.s[146]++;User.findOne({google:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[27]++;cov_1i6ws0izis.s[147]++;if(err){cov_1i6ws0izis.b[38][0]++;cov_1i6ws0izis.s[148]++;return done(err);}else{cov_1i6ws0izis.b[38][1]++;}cov_1i6ws0izis.s[149]++;if(existingUser){cov_1i6ws0izis.b[39][0]++;cov_1i6ws0izis.s[150]++;req.flash('errors',{msg:'There is already a Google account that belongs to you. Sign in with that account or delete it, then link it with your current account.'});cov_1i6ws0izis.s[151]++;done(err);}else{cov_1i6ws0izis.b[39][1]++;cov_1i6ws0izis.s[152]++;User.findById(req.user.id,(err,user)=>{cov_1i6ws0izis.f[28]++;cov_1i6ws0izis.s[153]++;if(err){cov_1i6ws0izis.b[40][0]++;cov_1i6ws0izis.s[154]++;return done(err);}else{cov_1i6ws0izis.b[40][1]++;}cov_1i6ws0izis.s[155]++;user.google=profile.id;cov_1i6ws0izis.s[156]++;user.tokens.push({kind:'google',accessToken});cov_1i6ws0izis.s[157]++;user.profile.name=(cov_1i6ws0izis.b[41][0]++,user.profile.name)||(cov_1i6ws0izis.b[41][1]++,profile.displayName);cov_1i6ws0izis.s[158]++;user.profile.gender=(cov_1i6ws0izis.b[42][0]++,user.profile.gender)||(cov_1i6ws0izis.b[42][1]++,profile._json.gender);cov_1i6ws0izis.s[159]++;user.profile.picture=(cov_1i6ws0izis.b[43][0]++,user.profile.picture)||(cov_1i6ws0izis.b[43][1]++,profile._json.image.url);cov_1i6ws0izis.s[160]++;user.save(err=>{cov_1i6ws0izis.f[29]++;cov_1i6ws0izis.s[161]++;req.flash('info',{msg:'Google account has been linked.'});cov_1i6ws0izis.s[162]++;done(err,user);});});}});}else{cov_1i6ws0izis.b[37][1]++;cov_1i6ws0izis.s[163]++;User.findOne({google:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[30]++;cov_1i6ws0izis.s[164]++;if(err){cov_1i6ws0izis.b[44][0]++;cov_1i6ws0izis.s[165]++;return done(err);}else{cov_1i6ws0izis.b[44][1]++;}cov_1i6ws0izis.s[166]++;if(existingUser){cov_1i6ws0izis.b[45][0]++;cov_1i6ws0izis.s[167]++;return done(null,existingUser);}else{cov_1i6ws0izis.b[45][1]++;}cov_1i6ws0izis.s[168]++;User.findOne({email:profile.emails[0].value},(err,existingEmailUser)=>{cov_1i6ws0izis.f[31]++;cov_1i6ws0izis.s[169]++;if(err){cov_1i6ws0izis.b[46][0]++;cov_1i6ws0izis.s[170]++;return done(err);}else{cov_1i6ws0izis.b[46][1]++;}cov_1i6ws0izis.s[171]++;if(existingEmailUser){cov_1i6ws0izis.b[47][0]++;cov_1i6ws0izis.s[172]++;req.flash('errors',{msg:'There is already an account using this email address. Sign in to that account and link it with Google manually from Account Settings.'});cov_1i6ws0izis.s[173]++;done(err);}else{cov_1i6ws0izis.b[47][1]++;const user=(cov_1i6ws0izis.s[174]++,new User());cov_1i6ws0izis.s[175]++;user.email=profile.emails[0].value;cov_1i6ws0izis.s[176]++;user.google=profile.id;cov_1i6ws0izis.s[177]++;user.tokens.push({kind:'google',accessToken});cov_1i6ws0izis.s[178]++;user.profile.name=profile.displayName;cov_1i6ws0izis.s[179]++;user.profile.gender=profile._json.gender;cov_1i6ws0izis.s[180]++;user.profile.picture=profile._json.image.url;cov_1i6ws0izis.s[181]++;user.save(err=>{cov_1i6ws0izis.f[32]++;cov_1i6ws0izis.s[182]++;done(err,user);});}});});}}));/**
 * Sign in with LinkedIn.
 */cov_1i6ws0izis.s[183]++;passport.use(new LinkedInStrategy({clientID:process.env.LINKEDIN_ID,clientSecret:process.env.LINKEDIN_SECRET,callbackURL:process.env.LINKEDIN_CALLBACK_URL,scope:['r_basicprofile','r_emailaddress'],passReqToCallback:true},(req,accessToken,refreshToken,profile,done)=>{cov_1i6ws0izis.f[33]++;cov_1i6ws0izis.s[184]++;if(req.user){cov_1i6ws0izis.b[48][0]++;cov_1i6ws0izis.s[185]++;User.findOne({linkedin:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[34]++;cov_1i6ws0izis.s[186]++;if(err){cov_1i6ws0izis.b[49][0]++;cov_1i6ws0izis.s[187]++;return done(err);}else{cov_1i6ws0izis.b[49][1]++;}cov_1i6ws0izis.s[188]++;if(existingUser){cov_1i6ws0izis.b[50][0]++;cov_1i6ws0izis.s[189]++;req.flash('errors',{msg:'There is already a LinkedIn account that belongs to you. Sign in with that account or delete it, then link it with your current account.'});cov_1i6ws0izis.s[190]++;done(err);}else{cov_1i6ws0izis.b[50][1]++;cov_1i6ws0izis.s[191]++;User.findById(req.user.id,(err,user)=>{cov_1i6ws0izis.f[35]++;cov_1i6ws0izis.s[192]++;if(err){cov_1i6ws0izis.b[51][0]++;cov_1i6ws0izis.s[193]++;return done(err);}else{cov_1i6ws0izis.b[51][1]++;}cov_1i6ws0izis.s[194]++;user.linkedin=profile.id;cov_1i6ws0izis.s[195]++;user.tokens.push({kind:'linkedin',accessToken});cov_1i6ws0izis.s[196]++;user.profile.name=(cov_1i6ws0izis.b[52][0]++,user.profile.name)||(cov_1i6ws0izis.b[52][1]++,profile.displayName);cov_1i6ws0izis.s[197]++;user.profile.location=(cov_1i6ws0izis.b[53][0]++,user.profile.location)||(cov_1i6ws0izis.b[53][1]++,profile._json.location.name);cov_1i6ws0izis.s[198]++;user.profile.picture=(cov_1i6ws0izis.b[54][0]++,user.profile.picture)||(cov_1i6ws0izis.b[54][1]++,profile._json.pictureUrl);cov_1i6ws0izis.s[199]++;user.profile.website=(cov_1i6ws0izis.b[55][0]++,user.profile.website)||(cov_1i6ws0izis.b[55][1]++,profile._json.publicProfileUrl);cov_1i6ws0izis.s[200]++;user.save(err=>{cov_1i6ws0izis.f[36]++;cov_1i6ws0izis.s[201]++;if(err){cov_1i6ws0izis.b[56][0]++;cov_1i6ws0izis.s[202]++;return done(err);}else{cov_1i6ws0izis.b[56][1]++;}cov_1i6ws0izis.s[203]++;req.flash('info',{msg:'LinkedIn account has been linked.'});cov_1i6ws0izis.s[204]++;done(err,user);});});}});}else{cov_1i6ws0izis.b[48][1]++;cov_1i6ws0izis.s[205]++;User.findOne({linkedin:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[37]++;cov_1i6ws0izis.s[206]++;if(err){cov_1i6ws0izis.b[57][0]++;cov_1i6ws0izis.s[207]++;return done(err);}else{cov_1i6ws0izis.b[57][1]++;}cov_1i6ws0izis.s[208]++;if(existingUser){cov_1i6ws0izis.b[58][0]++;cov_1i6ws0izis.s[209]++;return done(null,existingUser);}else{cov_1i6ws0izis.b[58][1]++;}cov_1i6ws0izis.s[210]++;User.findOne({email:profile._json.emailAddress},(err,existingEmailUser)=>{cov_1i6ws0izis.f[38]++;cov_1i6ws0izis.s[211]++;if(err){cov_1i6ws0izis.b[59][0]++;cov_1i6ws0izis.s[212]++;return done(err);}else{cov_1i6ws0izis.b[59][1]++;}cov_1i6ws0izis.s[213]++;if(existingEmailUser){cov_1i6ws0izis.b[60][0]++;cov_1i6ws0izis.s[214]++;req.flash('errors',{msg:'There is already an account using this email address. Sign in to that account and link it with LinkedIn manually from Account Settings.'});cov_1i6ws0izis.s[215]++;done(err);}else{cov_1i6ws0izis.b[60][1]++;const user=(cov_1i6ws0izis.s[216]++,new User());cov_1i6ws0izis.s[217]++;user.linkedin=profile.id;cov_1i6ws0izis.s[218]++;user.tokens.push({kind:'linkedin',accessToken});cov_1i6ws0izis.s[219]++;user.email=profile._json.emailAddress;cov_1i6ws0izis.s[220]++;user.profile.name=profile.displayName;cov_1i6ws0izis.s[221]++;user.profile.location=profile._json.location.name;cov_1i6ws0izis.s[222]++;user.profile.picture=profile._json.pictureUrl;cov_1i6ws0izis.s[223]++;user.profile.website=profile._json.publicProfileUrl;cov_1i6ws0izis.s[224]++;user.save(err=>{cov_1i6ws0izis.f[39]++;cov_1i6ws0izis.s[225]++;done(err,user);});}});});}}));/**
 * Sign in with Instagram.
 */cov_1i6ws0izis.s[226]++;passport.use(new InstagramStrategy({clientID:process.env.INSTAGRAM_ID,clientSecret:process.env.INSTAGRAM_SECRET,callbackURL:'/auth/instagram/callback',passReqToCallback:true},(req,accessToken,refreshToken,profile,done)=>{cov_1i6ws0izis.f[40]++;cov_1i6ws0izis.s[227]++;if(req.user){cov_1i6ws0izis.b[61][0]++;cov_1i6ws0izis.s[228]++;User.findOne({instagram:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[41]++;cov_1i6ws0izis.s[229]++;if(err){cov_1i6ws0izis.b[62][0]++;cov_1i6ws0izis.s[230]++;return done(err);}else{cov_1i6ws0izis.b[62][1]++;}cov_1i6ws0izis.s[231]++;if(existingUser){cov_1i6ws0izis.b[63][0]++;cov_1i6ws0izis.s[232]++;req.flash('errors',{msg:'There is already an Instagram account that belongs to you. Sign in with that account or delete it, then link it with your current account.'});cov_1i6ws0izis.s[233]++;done(err);}else{cov_1i6ws0izis.b[63][1]++;cov_1i6ws0izis.s[234]++;User.findById(req.user.id,(err,user)=>{cov_1i6ws0izis.f[42]++;cov_1i6ws0izis.s[235]++;if(err){cov_1i6ws0izis.b[64][0]++;cov_1i6ws0izis.s[236]++;return done(err);}else{cov_1i6ws0izis.b[64][1]++;}cov_1i6ws0izis.s[237]++;user.instagram=profile.id;cov_1i6ws0izis.s[238]++;user.tokens.push({kind:'instagram',accessToken});cov_1i6ws0izis.s[239]++;user.profile.name=(cov_1i6ws0izis.b[65][0]++,user.profile.name)||(cov_1i6ws0izis.b[65][1]++,profile.displayName);cov_1i6ws0izis.s[240]++;user.profile.picture=(cov_1i6ws0izis.b[66][0]++,user.profile.picture)||(cov_1i6ws0izis.b[66][1]++,profile._json.data.profile_picture);cov_1i6ws0izis.s[241]++;user.profile.website=(cov_1i6ws0izis.b[67][0]++,user.profile.website)||(cov_1i6ws0izis.b[67][1]++,profile._json.data.website);cov_1i6ws0izis.s[242]++;user.save(err=>{cov_1i6ws0izis.f[43]++;cov_1i6ws0izis.s[243]++;req.flash('info',{msg:'Instagram account has been linked.'});cov_1i6ws0izis.s[244]++;done(err,user);});});}});}else{cov_1i6ws0izis.b[61][1]++;cov_1i6ws0izis.s[245]++;User.findOne({instagram:profile.id},(err,existingUser)=>{cov_1i6ws0izis.f[44]++;cov_1i6ws0izis.s[246]++;if(err){cov_1i6ws0izis.b[68][0]++;cov_1i6ws0izis.s[247]++;return done(err);}else{cov_1i6ws0izis.b[68][1]++;}cov_1i6ws0izis.s[248]++;if(existingUser){cov_1i6ws0izis.b[69][0]++;cov_1i6ws0izis.s[249]++;return done(null,existingUser);}else{cov_1i6ws0izis.b[69][1]++;}const user=(cov_1i6ws0izis.s[250]++,new User());cov_1i6ws0izis.s[251]++;user.instagram=profile.id;cov_1i6ws0izis.s[252]++;user.tokens.push({kind:'instagram',accessToken});cov_1i6ws0izis.s[253]++;user.profile.name=profile.displayName;// Similar to Twitter API, assigns a temporary e-mail address
// to get on with the registration process. It can be changed later
// to a valid e-mail address in Profile Management.
cov_1i6ws0izis.s[254]++;user.email=`${profile.username}@instagram.com`;cov_1i6ws0izis.s[255]++;user.profile.website=profile._json.data.website;cov_1i6ws0izis.s[256]++;user.profile.picture=profile._json.data.profile_picture;cov_1i6ws0izis.s[257]++;user.save(err=>{cov_1i6ws0izis.f[45]++;cov_1i6ws0izis.s[258]++;done(err,user);});});}}));/**
 * Tumblr API OAuth.
 */cov_1i6ws0izis.s[259]++;passport.use('tumblr',new OAuthStrategy({requestTokenURL:'https://www.tumblr.com/oauth/request_token',accessTokenURL:'https://www.tumblr.com/oauth/access_token',userAuthorizationURL:'https://www.tumblr.com/oauth/authorize',consumerKey:process.env.TUMBLR_KEY,consumerSecret:process.env.TUMBLR_SECRET,callbackURL:'/auth/tumblr/callback',passReqToCallback:true},(req,token,tokenSecret,profile,done)=>{cov_1i6ws0izis.f[46]++;cov_1i6ws0izis.s[260]++;User.findById(req.user._id,(err,user)=>{cov_1i6ws0izis.f[47]++;cov_1i6ws0izis.s[261]++;if(err){cov_1i6ws0izis.b[70][0]++;cov_1i6ws0izis.s[262]++;return done(err);}else{cov_1i6ws0izis.b[70][1]++;}cov_1i6ws0izis.s[263]++;user.tokens.push({kind:'tumblr',accessToken:token,tokenSecret});cov_1i6ws0izis.s[264]++;user.save(err=>{cov_1i6ws0izis.f[48]++;cov_1i6ws0izis.s[265]++;done(err,user);});});}));/**
 * Foursquare API OAuth.
 */cov_1i6ws0izis.s[266]++;passport.use('foursquare',new OAuth2Strategy({authorizationURL:'https://foursquare.com/oauth2/authorize',tokenURL:'https://foursquare.com/oauth2/access_token',clientID:process.env.FOURSQUARE_ID,clientSecret:process.env.FOURSQUARE_SECRET,callbackURL:process.env.FOURSQUARE_REDIRECT_URL,passReqToCallback:true},(req,accessToken,refreshToken,profile,done)=>{cov_1i6ws0izis.f[49]++;cov_1i6ws0izis.s[267]++;User.findById(req.user._id,(err,user)=>{cov_1i6ws0izis.f[50]++;cov_1i6ws0izis.s[268]++;if(err){cov_1i6ws0izis.b[71][0]++;cov_1i6ws0izis.s[269]++;return done(err);}else{cov_1i6ws0izis.b[71][1]++;}cov_1i6ws0izis.s[270]++;user.tokens.push({kind:'foursquare',accessToken});cov_1i6ws0izis.s[271]++;user.save(err=>{cov_1i6ws0izis.f[51]++;cov_1i6ws0izis.s[272]++;done(err,user);});});}));/**
 * Steam API OpenID.
 */cov_1i6ws0izis.s[273]++;passport.use(new OpenIDStrategy({apiKey:process.env.STEAM_KEY,providerURL:'http://steamcommunity.com/openid',returnURL:`${process.env.BASE_URL}/auth/steam/callback`,realm:`${process.env.BASE_URL}/`,stateless:true,passReqToCallback:true},(req,identifier,done)=>{cov_1i6ws0izis.f[52]++;const steamId=(cov_1i6ws0izis.s[274]++,identifier.match(/\d+$/)[0]);const profileURL=(cov_1i6ws0izis.s[275]++,`http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=${process.env.STEAM_KEY}&steamids=${steamId}`);cov_1i6ws0izis.s[276]++;if(req.user){cov_1i6ws0izis.b[72][0]++;cov_1i6ws0izis.s[277]++;User.findOne({steam:steamId},(err,existingUser)=>{cov_1i6ws0izis.f[53]++;cov_1i6ws0izis.s[278]++;if(err){cov_1i6ws0izis.b[73][0]++;cov_1i6ws0izis.s[279]++;return done(err);}else{cov_1i6ws0izis.b[73][1]++;}cov_1i6ws0izis.s[280]++;if(existingUser){cov_1i6ws0izis.b[74][0]++;cov_1i6ws0izis.s[281]++;req.flash('errors',{msg:'There is already an account associated with the SteamID. Sign in with that account or delete it, then link it with your current account.'});cov_1i6ws0izis.s[282]++;done(err);}else{cov_1i6ws0izis.b[74][1]++;cov_1i6ws0izis.s[283]++;User.findById(req.user.id,(err,user)=>{cov_1i6ws0izis.f[54]++;cov_1i6ws0izis.s[284]++;if(err){cov_1i6ws0izis.b[75][0]++;cov_1i6ws0izis.s[285]++;return done(err);}else{cov_1i6ws0izis.b[75][1]++;}cov_1i6ws0izis.s[286]++;user.steam=steamId;cov_1i6ws0izis.s[287]++;user.tokens.push({kind:'steam',accessToken:steamId});cov_1i6ws0izis.s[288]++;request(profileURL,(error,response,body)=>{cov_1i6ws0izis.f[55]++;cov_1i6ws0izis.s[289]++;if((cov_1i6ws0izis.b[77][0]++,!error)&&(cov_1i6ws0izis.b[77][1]++,response.statusCode===200)){cov_1i6ws0izis.b[76][0]++;const data=(cov_1i6ws0izis.s[290]++,JSON.parse(body));const profile=(cov_1i6ws0izis.s[291]++,data.response.players[0]);cov_1i6ws0izis.s[292]++;user.profile.name=(cov_1i6ws0izis.b[78][0]++,user.profile.name)||(cov_1i6ws0izis.b[78][1]++,profile.personaname);cov_1i6ws0izis.s[293]++;user.profile.picture=(cov_1i6ws0izis.b[79][0]++,user.profile.picture)||(cov_1i6ws0izis.b[79][1]++,profile.avatarmedium);cov_1i6ws0izis.s[294]++;user.save(err=>{cov_1i6ws0izis.f[56]++;cov_1i6ws0izis.s[295]++;done(err,user);});}else{cov_1i6ws0izis.b[76][1]++;cov_1i6ws0izis.s[296]++;user.save(err=>{cov_1i6ws0izis.f[57]++;cov_1i6ws0izis.s[297]++;done(err,user);});cov_1i6ws0izis.s[298]++;done(error,null);}});});}});}else{cov_1i6ws0izis.b[72][1]++;cov_1i6ws0izis.s[299]++;request(profileURL,(error,response,body)=>{cov_1i6ws0izis.f[58]++;cov_1i6ws0izis.s[300]++;if((cov_1i6ws0izis.b[81][0]++,!error)&&(cov_1i6ws0izis.b[81][1]++,response.statusCode===200)){cov_1i6ws0izis.b[80][0]++;const data=(cov_1i6ws0izis.s[301]++,JSON.parse(body));const profile=(cov_1i6ws0izis.s[302]++,data.response.players[0]);const user=(cov_1i6ws0izis.s[303]++,new User());cov_1i6ws0izis.s[304]++;user.steam=steamId;cov_1i6ws0izis.s[305]++;user.email=`${steamId}@steam.com`;// steam does not disclose emails, prevent duplicate keys
cov_1i6ws0izis.s[306]++;user.tokens.push({kind:'steam',accessToken:steamId});cov_1i6ws0izis.s[307]++;user.profile.name=profile.personaname;cov_1i6ws0izis.s[308]++;user.profile.picture=profile.avatarmedium;cov_1i6ws0izis.s[309]++;user.save(err=>{cov_1i6ws0izis.f[59]++;cov_1i6ws0izis.s[310]++;done(err,user);});}else{cov_1i6ws0izis.b[80][1]++;cov_1i6ws0izis.s[311]++;done(error,null);}});}}));/**
 * Pinterest API OAuth.
 */cov_1i6ws0izis.s[312]++;passport.use('pinterest',new OAuth2Strategy({authorizationURL:'https://api.pinterest.com/oauth/',tokenURL:'https://api.pinterest.com/v1/oauth/token',clientID:process.env.PINTEREST_ID,clientSecret:process.env.PINTEREST_SECRET,callbackURL:process.env.PINTEREST_REDIRECT_URL,passReqToCallback:true},(req,accessToken,refreshToken,profile,done)=>{cov_1i6ws0izis.f[60]++;cov_1i6ws0izis.s[313]++;User.findById(req.user._id,(err,user)=>{cov_1i6ws0izis.f[61]++;cov_1i6ws0izis.s[314]++;if(err){cov_1i6ws0izis.b[82][0]++;cov_1i6ws0izis.s[315]++;return done(err);}else{cov_1i6ws0izis.b[82][1]++;}cov_1i6ws0izis.s[316]++;user.tokens.push({kind:'pinterest',accessToken});cov_1i6ws0izis.s[317]++;user.save(err=>{cov_1i6ws0izis.f[62]++;cov_1i6ws0izis.s[318]++;done(err,user);});});}));/**
 * Login Required middleware.
 */cov_1i6ws0izis.s[319]++;exports.isAuthenticated=(req,res,next)=>{cov_1i6ws0izis.f[63]++;cov_1i6ws0izis.s[320]++;if(req.isAuthenticated()){cov_1i6ws0izis.b[83][0]++;cov_1i6ws0izis.s[321]++;return next();}else{cov_1i6ws0izis.b[83][1]++;}cov_1i6ws0izis.s[322]++;res.redirect('/login');};/**
 * Authorization Required middleware.
 */cov_1i6ws0izis.s[323]++;exports.isAuthorized=(req,res,next)=>{cov_1i6ws0izis.f[64]++;const provider=(cov_1i6ws0izis.s[324]++,req.path.split('/').slice(-1)[0]);const token=(cov_1i6ws0izis.s[325]++,req.user.tokens.find(token=>{cov_1i6ws0izis.f[65]++;cov_1i6ws0izis.s[326]++;return token.kind===provider;}));cov_1i6ws0izis.s[327]++;if(token){cov_1i6ws0izis.b[84][0]++;cov_1i6ws0izis.s[328]++;next();}else{cov_1i6ws0izis.b[84][1]++;cov_1i6ws0izis.s[329]++;res.redirect(`/auth/${provider}`);}};