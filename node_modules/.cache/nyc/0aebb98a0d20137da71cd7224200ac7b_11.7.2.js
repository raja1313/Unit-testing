var cov_jxspod53c=function(){var path='/Users/apple/Downloads/hackathon-starter-master/app.js',hash='d766be01840b2f535206b2c60a9f207d1dc9aa3d',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/apple/Downloads/hackathon-starter-master/app.js',statementMap:{'0':{start:{line:4,column:16},end:{line:4,column:34}},'1':{start:{line:5,column:20},end:{line:5,column:42}},'2':{start:{line:6,column:16},end:{line:6,column:42}},'3':{start:{line:7,column:19},end:{line:7,column:41}},'4':{start:{line:8,column:15},end:{line:8,column:32}},'5':{start:{line:9,column:14},end:{line:9,column:30}},'6':{start:{line:10,column:21},end:{line:10,column:44}},'7':{start:{line:11,column:14},end:{line:11,column:30}},'8':{start:{line:12,column:15},end:{line:12,column:32}},'9':{start:{line:13,column:19},end:{line:13,column:52}},'10':{start:{line:14,column:14},end:{line:14,column:38}},'11':{start:{line:15,column:13},end:{line:15,column:28}},'12':{start:{line:16,column:17},end:{line:16,column:36}},'13':{start:{line:17,column:17},end:{line:17,column:36}},'14':{start:{line:18,column:25},end:{line:18,column:53}},'15':{start:{line:19,column:29},end:{line:19,column:62}},'16':{start:{line:20,column:13},end:{line:20,column:44}},'17':{start:{line:21,column:15},end:{line:21,column:32}},'18':{start:{line:23,column:15},end:{line:23,column:64}},'19':{start:{line:28,column:0},end:{line:28,column:38}},'20':{start:{line:33,column:23},end:{line:33,column:52}},'21':{start:{line:34,column:23},end:{line:34,column:52}},'22':{start:{line:35,column:22},end:{line:35,column:50}},'23':{start:{line:36,column:26},end:{line:36,column:58}},'24':{start:{line:41,column:23},end:{line:41,column:51}},'25':{start:{line:46,column:12},end:{line:46,column:21}},'26':{start:{line:51,column:0},end:{line:51,column:42}},'27':{start:{line:52,column:0},end:{line:56,column:3}},'28':{start:{line:53,column:2},end:{line:53,column:21}},'29':{start:{line:54,column:2},end:{line:54,column:99}},'30':{start:{line:55,column:2},end:{line:55,column:17}},'31':{start:{line:61,column:0},end:{line:61,column:62}},'32':{start:{line:62,column:0},end:{line:62,column:79}},'33':{start:{line:63,column:0},end:{line:63,column:48}},'34':{start:{line:64,column:0},end:{line:64,column:30}},'35':{start:{line:65,column:0},end:{line:65,column:32}},'36':{start:{line:66,column:0},end:{line:66,column:23}},'37':{start:{line:67,column:0},end:{line:70,column:4}},'38':{start:{line:71,column:0},end:{line:71,column:23}},'39':{start:{line:72,column:0},end:{line:72,column:27}},'40':{start:{line:73,column:0},end:{line:73,column:51}},'41':{start:{line:74,column:0},end:{line:74,column:28}},'42':{start:{line:75,column:0},end:{line:84,column:4}},'43':{start:{line:85,column:0},end:{line:85,column:31}},'44':{start:{line:86,column:0},end:{line:86,column:28}},'45':{start:{line:87,column:0},end:{line:87,column:17}},'46':{start:{line:88,column:0},end:{line:94,column:3}},'47':{start:{line:89,column:2},end:{line:93,column:3}},'48':{start:{line:90,column:4},end:{line:90,column:11}},'49':{start:{line:92,column:4},end:{line:92,column:33}},'50':{start:{line:95,column:0},end:{line:95,column:36}},'51':{start:{line:96,column:0},end:{line:96,column:35}},'52':{start:{line:97,column:0},end:{line:97,column:28}},'53':{start:{line:98,column:0},end:{line:101,column:3}},'54':{start:{line:99,column:2},end:{line:99,column:29}},'55':{start:{line:100,column:2},end:{line:100,column:9}},'56':{start:{line:102,column:0},end:{line:115,column:3}},'57':{start:{line:104,column:2},end:{line:113,column:3}},'58':{start:{line:109,column:4},end:{line:109,column:43}},'59':{start:{line:110,column:9},end:{line:113,column:3}},'60':{start:{line:112,column:4},end:{line:112,column:43}},'61':{start:{line:114,column:2},end:{line:114,column:9}},'62':{start:{line:116,column:0},end:{line:116,column:81}},'63':{start:{line:121,column:0},end:{line:121,column:35}},'64':{start:{line:122,column:0},end:{line:122,column:43}},'65':{start:{line:123,column:0},end:{line:123,column:45}},'66':{start:{line:124,column:0},end:{line:124,column:42}},'67':{start:{line:125,column:0},end:{line:125,column:45}},'68':{start:{line:126,column:0},end:{line:126,column:47}},'69':{start:{line:127,column:0},end:{line:127,column:50}},'70':{start:{line:128,column:0},end:{line:128,column:52}},'71':{start:{line:129,column:0},end:{line:129,column:45}},'72':{start:{line:130,column:0},end:{line:130,column:47}},'73':{start:{line:131,column:0},end:{line:131,column:50}},'74':{start:{line:132,column:0},end:{line:132,column:52}},'75':{start:{line:133,column:0},end:{line:133,column:79}},'76':{start:{line:134,column:0},end:{line:134,column:95}},'77':{start:{line:135,column:0},end:{line:135,column:97}},'78':{start:{line:136,column:0},end:{line:136,column:94}},'79':{start:{line:137,column:0},end:{line:137,column:100}},'80':{start:{line:142,column:0},end:{line:142,column:38}},'81':{start:{line:143,column:0},end:{line:143,column:48}},'82':{start:{line:144,column:0},end:{line:144,column:51}},'83':{start:{line:145,column:0},end:{line:145,column:48}},'84':{start:{line:146,column:0},end:{line:146,column:107}},'85':{start:{line:147,column:0},end:{line:147,column:48}},'86':{start:{line:148,column:0},end:{line:148,column:50}},'87':{start:{line:149,column:0},end:{line:149,column:52}},'88':{start:{line:150,column:0},end:{line:150,column:48}},'89':{start:{line:151,column:0},end:{line:151,column:50}},'90':{start:{line:152,column:0},end:{line:152,column:54}},'91':{start:{line:153,column:0},end:{line:153,column:56}},'92':{start:{line:154,column:0},end:{line:154,column:117}},'93':{start:{line:155,column:0},end:{line:155,column:109}},'94':{start:{line:156,column:0},end:{line:156,column:113}},'95':{start:{line:157,column:0},end:{line:157,column:109}},'96':{start:{line:158,column:0},end:{line:158,column:111}},'97':{start:{line:159,column:0},end:{line:159,column:113}},'98':{start:{line:160,column:0},end:{line:160,column:113}},'99':{start:{line:161,column:0},end:{line:161,column:115}},'100':{start:{line:162,column:0},end:{line:162,column:48}},'101':{start:{line:163,column:0},end:{line:163,column:63}},'102':{start:{line:164,column:0},end:{line:164,column:61}},'103':{start:{line:165,column:0},end:{line:165,column:42}},'104':{start:{line:166,column:0},end:{line:166,column:52}},'105':{start:{line:167,column:0},end:{line:167,column:79}},'106':{start:{line:168,column:0},end:{line:168,column:115}},'107':{start:{line:169,column:0},end:{line:169,column:117}},'108':{start:{line:170,column:0},end:{line:170,column:57}},'109':{start:{line:175,column:0},end:{line:175,column:63}},'110':{start:{line:176,column:0},end:{line:178,column:3}},'111':{start:{line:177,column:2},end:{line:177,column:44}},'112':{start:{line:179,column:0},end:{line:179,column:101}},'113':{start:{line:180,column:0},end:{line:182,column:3}},'114':{start:{line:181,column:2},end:{line:181,column:44}},'115':{start:{line:183,column:0},end:{line:183,column:57}},'116':{start:{line:184,column:0},end:{line:186,column:3}},'117':{start:{line:185,column:2},end:{line:185,column:44}},'118':{start:{line:187,column:0},end:{line:187,column:85}},'119':{start:{line:188,column:0},end:{line:190,column:3}},'120':{start:{line:189,column:2},end:{line:189,column:44}},'121':{start:{line:191,column:0},end:{line:191,column:59}},'122':{start:{line:192,column:0},end:{line:194,column:3}},'123':{start:{line:193,column:2},end:{line:193,column:44}},'124':{start:{line:195,column:0},end:{line:195,column:86}},'125':{start:{line:196,column:0},end:{line:198,column:3}},'126':{start:{line:197,column:2},end:{line:197,column:44}},'127':{start:{line:203,column:0},end:{line:203,column:62}},'128':{start:{line:204,column:0},end:{line:206,column:3}},'129':{start:{line:205,column:2},end:{line:205,column:34}},'130':{start:{line:207,column:0},end:{line:207,column:54}},'131':{start:{line:208,column:0},end:{line:210,column:3}},'132':{start:{line:209,column:2},end:{line:209,column:30}},'133':{start:{line:211,column:0},end:{line:211,column:78}},'134':{start:{line:212,column:0},end:{line:214,column:3}},'135':{start:{line:213,column:2},end:{line:213,column:37}},'136':{start:{line:215,column:0},end:{line:215,column:99}},'137':{start:{line:216,column:0},end:{line:218,column:3}},'138':{start:{line:217,column:2},end:{line:217,column:33}},'139':{start:{line:223,column:0},end:{line:226,column:1}},'140':{start:{line:225,column:2},end:{line:225,column:26}},'141':{start:{line:231,column:0},end:{line:234,column:3}},'142':{start:{line:232,column:2},end:{line:232,column:120}},'143':{start:{line:233,column:2},end:{line:233,column:42}},'144':{start:{line:236,column:0},end:{line:236,column:21}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:52,column:32},end:{line:52,column:33}},loc:{start:{line:52,column:41},end:{line:56,column:1}},line:52},'1':{name:'(anonymous_1)',decl:{start:{line:88,column:8},end:{line:88,column:9}},loc:{start:{line:88,column:28},end:{line:94,column:1}},line:88},'2':{name:'(anonymous_2)',decl:{start:{line:98,column:8},end:{line:98,column:9}},loc:{start:{line:98,column:28},end:{line:101,column:1}},line:98},'3':{name:'(anonymous_3)',decl:{start:{line:102,column:8},end:{line:102,column:9}},loc:{start:{line:102,column:28},end:{line:115,column:1}},line:102},'4':{name:'(anonymous_4)',decl:{start:{line:176,column:103},end:{line:176,column:104}},loc:{start:{line:176,column:117},end:{line:178,column:1}},line:176},'5':{name:'(anonymous_5)',decl:{start:{line:180,column:101},end:{line:180,column:102}},loc:{start:{line:180,column:115},end:{line:182,column:1}},line:180},'6':{name:'(anonymous_6)',decl:{start:{line:184,column:97},end:{line:184,column:98}},loc:{start:{line:184,column:111},end:{line:186,column:1}},line:184},'7':{name:'(anonymous_7)',decl:{start:{line:188,column:97},end:{line:188,column:98}},loc:{start:{line:188,column:111},end:{line:190,column:1}},line:188},'8':{name:'(anonymous_8)',decl:{start:{line:192,column:99},end:{line:192,column:100}},loc:{start:{line:192,column:113},end:{line:194,column:1}},line:192},'9':{name:'(anonymous_9)',decl:{start:{line:196,column:101},end:{line:196,column:102}},loc:{start:{line:196,column:115},end:{line:198,column:1}},line:196},'10':{name:'(anonymous_10)',decl:{start:{line:204,column:100},end:{line:204,column:101}},loc:{start:{line:204,column:114},end:{line:206,column:1}},line:204},'11':{name:'(anonymous_11)',decl:{start:{line:208,column:92},end:{line:208,column:93}},loc:{start:{line:208,column:106},end:{line:210,column:1}},line:208},'12':{name:'(anonymous_12)',decl:{start:{line:212,column:91},end:{line:212,column:92}},loc:{start:{line:212,column:105},end:{line:214,column:1}},line:212},'13':{name:'(anonymous_13)',decl:{start:{line:216,column:100},end:{line:216,column:101}},loc:{start:{line:216,column:114},end:{line:218,column:1}},line:216},'14':{name:'(anonymous_14)',decl:{start:{line:231,column:28},end:{line:231,column:29}},loc:{start:{line:231,column:34},end:{line:234,column:1}},line:231}},branchMap:{'0':{loc:{start:{line:61,column:16},end:{line:61,column:60}},type:'binary-expr',locations:[{start:{line:61,column:16},end:{line:61,column:47}},{start:{line:61,column:51},end:{line:61,column:60}}],line:61},'1':{loc:{start:{line:62,column:16},end:{line:62,column:77}},type:'binary-expr',locations:[{start:{line:62,column:16},end:{line:62,column:32}},{start:{line:62,column:36},end:{line:62,column:69}},{start:{line:62,column:73},end:{line:62,column:77}}],line:62},'2':{loc:{start:{line:89,column:2},end:{line:93,column:3}},type:'if',locations:[{start:{line:89,column:2},end:{line:93,column:3}},{start:{line:89,column:2},end:{line:93,column:3}}],line:89},'3':{loc:{start:{line:104,column:2},end:{line:113,column:3}},type:'if',locations:[{start:{line:104,column:2},end:{line:113,column:3}},{start:{line:104,column:2},end:{line:113,column:3}}],line:104},'4':{loc:{start:{line:104,column:6},end:{line:108,column:25}},type:'binary-expr',locations:[{start:{line:104,column:6},end:{line:104,column:15}},{start:{line:105,column:4},end:{line:105,column:25}},{start:{line:106,column:4},end:{line:106,column:26}},{start:{line:107,column:4},end:{line:107,column:30}},{start:{line:108,column:4},end:{line:108,column:25}}],line:104},'5':{loc:{start:{line:110,column:9},end:{line:113,column:3}},type:'if',locations:[{start:{line:110,column:9},end:{line:113,column:3}},{start:{line:110,column:9},end:{line:113,column:3}}],line:110},'6':{loc:{start:{line:110,column:13},end:{line:111,column:57}},type:'binary-expr',locations:[{start:{line:110,column:13},end:{line:110,column:21}},{start:{line:111,column:5},end:{line:111,column:28}},{start:{line:111,column:32},end:{line:111,column:56}}],line:110},'7':{loc:{start:{line:177,column:15},end:{line:177,column:42}},type:'binary-expr',locations:[{start:{line:177,column:15},end:{line:177,column:35}},{start:{line:177,column:39},end:{line:177,column:42}}],line:177},'8':{loc:{start:{line:181,column:15},end:{line:181,column:42}},type:'binary-expr',locations:[{start:{line:181,column:15},end:{line:181,column:35}},{start:{line:181,column:39},end:{line:181,column:42}}],line:181},'9':{loc:{start:{line:185,column:15},end:{line:185,column:42}},type:'binary-expr',locations:[{start:{line:185,column:15},end:{line:185,column:35}},{start:{line:185,column:39},end:{line:185,column:42}}],line:185},'10':{loc:{start:{line:189,column:15},end:{line:189,column:42}},type:'binary-expr',locations:[{start:{line:189,column:15},end:{line:189,column:35}},{start:{line:189,column:39},end:{line:189,column:42}}],line:189},'11':{loc:{start:{line:193,column:15},end:{line:193,column:42}},type:'binary-expr',locations:[{start:{line:193,column:15},end:{line:193,column:35}},{start:{line:193,column:39},end:{line:193,column:42}}],line:193},'12':{loc:{start:{line:197,column:15},end:{line:197,column:42}},type:'binary-expr',locations:[{start:{line:197,column:15},end:{line:197,column:35}},{start:{line:197,column:39},end:{line:197,column:42}}],line:197},'13':{loc:{start:{line:223,column:0},end:{line:226,column:1}},type:'if',locations:[{start:{line:223,column:0},end:{line:226,column:1}},{start:{line:223,column:0},end:{line:226,column:1}}],line:223}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0,'139':0,'140':0,'141':0,'142':0,'143':0,'144':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0},b:{'0':[0,0],'1':[0,0,0],'2':[0,0],'3':[0,0],'4':[0,0,0,0,0],'5':[0,0],'6':[0,0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();/**
 * Module dependencies.
 */const express=(cov_jxspod53c.s[0]++,require('express'));const compression=(cov_jxspod53c.s[1]++,require('compression'));const session=(cov_jxspod53c.s[2]++,require('express-session'));const bodyParser=(cov_jxspod53c.s[3]++,require('body-parser'));const logger=(cov_jxspod53c.s[4]++,require('morgan'));const chalk=(cov_jxspod53c.s[5]++,require('chalk'));const errorHandler=(cov_jxspod53c.s[6]++,require('errorhandler'));const lusca=(cov_jxspod53c.s[7]++,require('lusca'));const dotenv=(cov_jxspod53c.s[8]++,require('dotenv'));const MongoStore=(cov_jxspod53c.s[9]++,require('connect-mongo')(session));const flash=(cov_jxspod53c.s[10]++,require('express-flash'));const path=(cov_jxspod53c.s[11]++,require('path'));const mongoose=(cov_jxspod53c.s[12]++,require('mongoose'));const passport=(cov_jxspod53c.s[13]++,require('passport'));const expressValidator=(cov_jxspod53c.s[14]++,require('express-validator'));const expressStatusMonitor=(cov_jxspod53c.s[15]++,require('express-status-monitor'));const sass=(cov_jxspod53c.s[16]++,require('node-sass-middleware'));const multer=(cov_jxspod53c.s[17]++,require('multer'));const upload=(cov_jxspod53c.s[18]++,multer({dest:path.join(__dirname,'uploads')}));/**
 * Load environment variables from .env file, where API keys and passwords are configured.
 */cov_jxspod53c.s[19]++;dotenv.load({path:'.env.example'});/**
 * Controllers (route handlers).
 */const homeController=(cov_jxspod53c.s[20]++,require('./controllers/home'));const userController=(cov_jxspod53c.s[21]++,require('./controllers/user'));const apiController=(cov_jxspod53c.s[22]++,require('./controllers/api'));const contactController=(cov_jxspod53c.s[23]++,require('./controllers/contact'));/**
 * API keys and Passport configuration.
 */const passportConfig=(cov_jxspod53c.s[24]++,require('./config/passport'));/**
 * Create Express server.
 */const app=(cov_jxspod53c.s[25]++,express());/**
 * Connect to MongoDB.
 */cov_jxspod53c.s[26]++;mongoose.connect(process.env.MONGODB_URI);cov_jxspod53c.s[27]++;mongoose.connection.on('error',err=>{cov_jxspod53c.f[0]++;cov_jxspod53c.s[28]++;console.error(err);cov_jxspod53c.s[29]++;console.log('%s MongoDB connection error. Please make sure MongoDB is running.',chalk.red('✗'));cov_jxspod53c.s[30]++;process.exit();});/**
 * Express configuration.
 */cov_jxspod53c.s[31]++;app.set('host',(cov_jxspod53c.b[0][0]++,process.env.OPENSHIFT_NODEJS_IP)||(cov_jxspod53c.b[0][1]++,'0.0.0.0'));cov_jxspod53c.s[32]++;app.set('port',(cov_jxspod53c.b[1][0]++,process.env.PORT)||(cov_jxspod53c.b[1][1]++,process.env.OPENSHIFT_NODEJS_PORT)||(cov_jxspod53c.b[1][2]++,8080));cov_jxspod53c.s[33]++;app.set('views',path.join(__dirname,'views'));cov_jxspod53c.s[34]++;app.set('view engine','pug');cov_jxspod53c.s[35]++;app.use(expressStatusMonitor());cov_jxspod53c.s[36]++;app.use(compression());cov_jxspod53c.s[37]++;app.use(sass({src:path.join(__dirname,'public'),dest:path.join(__dirname,'public')}));cov_jxspod53c.s[38]++;app.use(logger('dev'));cov_jxspod53c.s[39]++;app.use(bodyParser.json());cov_jxspod53c.s[40]++;app.use(bodyParser.urlencoded({extended:true}));cov_jxspod53c.s[41]++;app.use(expressValidator());cov_jxspod53c.s[42]++;app.use(session({resave:true,saveUninitialized:true,secret:process.env.SESSION_SECRET,cookie:{maxAge:1209600000},// two weeks in milliseconds
store:new MongoStore({url:process.env.MONGODB_URI,autoReconnect:true})}));cov_jxspod53c.s[43]++;app.use(passport.initialize());cov_jxspod53c.s[44]++;app.use(passport.session());cov_jxspod53c.s[45]++;app.use(flash());cov_jxspod53c.s[46]++;app.use((req,res,next)=>{cov_jxspod53c.f[1]++;cov_jxspod53c.s[47]++;if(req.path==='/api/upload'){cov_jxspod53c.b[2][0]++;cov_jxspod53c.s[48]++;next();}else{cov_jxspod53c.b[2][1]++;cov_jxspod53c.s[49]++;lusca.csrf()(req,res,next);}});cov_jxspod53c.s[50]++;app.use(lusca.xframe('SAMEORIGIN'));cov_jxspod53c.s[51]++;app.use(lusca.xssProtection(true));cov_jxspod53c.s[52]++;app.disable('x-powered-by');cov_jxspod53c.s[53]++;app.use((req,res,next)=>{cov_jxspod53c.f[2]++;cov_jxspod53c.s[54]++;res.locals.user=req.user;cov_jxspod53c.s[55]++;next();});cov_jxspod53c.s[56]++;app.use((req,res,next)=>{cov_jxspod53c.f[3]++;cov_jxspod53c.s[57]++;// After successful login, redirect back to the intended page
if((cov_jxspod53c.b[4][0]++,!req.user)&&(cov_jxspod53c.b[4][1]++,req.path!=='/login')&&(cov_jxspod53c.b[4][2]++,req.path!=='/signup')&&(cov_jxspod53c.b[4][3]++,!req.path.match(/^\/auth/))&&(cov_jxspod53c.b[4][4]++,!req.path.match(/\./))){cov_jxspod53c.b[3][0]++;cov_jxspod53c.s[58]++;req.session.returnTo=req.originalUrl;}else{cov_jxspod53c.b[3][1]++;cov_jxspod53c.s[59]++;if((cov_jxspod53c.b[6][0]++,req.user)&&((cov_jxspod53c.b[6][1]++,req.path==='/account')||(cov_jxspod53c.b[6][2]++,req.path.match(/^\/api/)))){cov_jxspod53c.b[5][0]++;cov_jxspod53c.s[60]++;req.session.returnTo=req.originalUrl;}else{cov_jxspod53c.b[5][1]++;}}cov_jxspod53c.s[61]++;next();});cov_jxspod53c.s[62]++;app.use(express.static(path.join(__dirname,'public'),{maxAge:31557600000}));/**
 * Primary app routes.
 */cov_jxspod53c.s[63]++;app.get('/',homeController.index);cov_jxspod53c.s[64]++;app.get('/login',userController.getLogin);cov_jxspod53c.s[65]++;app.post('/login',userController.postLogin);cov_jxspod53c.s[66]++;app.get('/logout',userController.logout);cov_jxspod53c.s[67]++;app.get('/forgot',userController.getForgot);cov_jxspod53c.s[68]++;app.post('/forgot',userController.postForgot);cov_jxspod53c.s[69]++;app.get('/reset/:token',userController.getReset);cov_jxspod53c.s[70]++;app.post('/reset/:token',userController.postReset);cov_jxspod53c.s[71]++;app.get('/signup',userController.getSignup);cov_jxspod53c.s[72]++;app.post('/signup',userController.postSignup);cov_jxspod53c.s[73]++;app.get('/contact',contactController.getContact);cov_jxspod53c.s[74]++;app.post('/contact',contactController.postContact);cov_jxspod53c.s[75]++;app.get('/account',passportConfig.isAuthenticated,userController.getAccount);cov_jxspod53c.s[76]++;app.post('/account/profile',passportConfig.isAuthenticated,userController.postUpdateProfile);cov_jxspod53c.s[77]++;app.post('/account/password',passportConfig.isAuthenticated,userController.postUpdatePassword);cov_jxspod53c.s[78]++;app.post('/account/delete',passportConfig.isAuthenticated,userController.postDeleteAccount);cov_jxspod53c.s[79]++;app.get('/account/unlink/:provider',passportConfig.isAuthenticated,userController.getOauthUnlink);/**
 * API examples routes.
 */cov_jxspod53c.s[80]++;app.get('/api',apiController.getApi);cov_jxspod53c.s[81]++;app.get('/api/lastfm',apiController.getLastfm);cov_jxspod53c.s[82]++;app.get('/api/nyt',apiController.getNewYorkTimes);cov_jxspod53c.s[83]++;app.get('/api/aviary',apiController.getAviary);cov_jxspod53c.s[84]++;app.get('/api/steam',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.getSteam);cov_jxspod53c.s[85]++;app.get('/api/stripe',apiController.getStripe);cov_jxspod53c.s[86]++;app.post('/api/stripe',apiController.postStripe);cov_jxspod53c.s[87]++;app.get('/api/scraping',apiController.getScraping);cov_jxspod53c.s[88]++;app.get('/api/twilio',apiController.getTwilio);cov_jxspod53c.s[89]++;app.post('/api/twilio',apiController.postTwilio);cov_jxspod53c.s[90]++;app.get('/api/clockwork',apiController.getClockwork);cov_jxspod53c.s[91]++;app.post('/api/clockwork',apiController.postClockwork);cov_jxspod53c.s[92]++;app.get('/api/foursquare',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.getFoursquare);cov_jxspod53c.s[93]++;app.get('/api/tumblr',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.getTumblr);cov_jxspod53c.s[94]++;app.get('/api/facebook',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.getFacebook);cov_jxspod53c.s[95]++;app.get('/api/github',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.getGithub);cov_jxspod53c.s[96]++;app.get('/api/twitter',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.getTwitter);cov_jxspod53c.s[97]++;app.post('/api/twitter',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.postTwitter);cov_jxspod53c.s[98]++;app.get('/api/linkedin',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.getLinkedin);cov_jxspod53c.s[99]++;app.get('/api/instagram',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.getInstagram);cov_jxspod53c.s[100]++;app.get('/api/paypal',apiController.getPayPal);cov_jxspod53c.s[101]++;app.get('/api/paypal/success',apiController.getPayPalSuccess);cov_jxspod53c.s[102]++;app.get('/api/paypal/cancel',apiController.getPayPalCancel);cov_jxspod53c.s[103]++;app.get('/api/lob',apiController.getLob);cov_jxspod53c.s[104]++;app.get('/api/upload',apiController.getFileUpload);cov_jxspod53c.s[105]++;app.post('/api/upload',upload.single('myFile'),apiController.postFileUpload);cov_jxspod53c.s[106]++;app.get('/api/pinterest',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.getPinterest);cov_jxspod53c.s[107]++;app.post('/api/pinterest',passportConfig.isAuthenticated,passportConfig.isAuthorized,apiController.postPinterest);cov_jxspod53c.s[108]++;app.get('/api/google-maps',apiController.getGoogleMaps);/**
 * OAuth authentication routes. (Sign in)
 */cov_jxspod53c.s[109]++;app.get('/auth/instagram',passport.authenticate('instagram'));cov_jxspod53c.s[110]++;app.get('/auth/instagram/callback',passport.authenticate('instagram',{failureRedirect:'/login'}),(req,res)=>{cov_jxspod53c.f[4]++;cov_jxspod53c.s[111]++;res.redirect((cov_jxspod53c.b[7][0]++,req.session.returnTo)||(cov_jxspod53c.b[7][1]++,'/'));});cov_jxspod53c.s[112]++;app.get('/auth/facebook',passport.authenticate('facebook',{scope:['email','public_profile']}));cov_jxspod53c.s[113]++;app.get('/auth/facebook/callback',passport.authenticate('facebook',{failureRedirect:'/login'}),(req,res)=>{cov_jxspod53c.f[5]++;cov_jxspod53c.s[114]++;res.redirect((cov_jxspod53c.b[8][0]++,req.session.returnTo)||(cov_jxspod53c.b[8][1]++,'/'));});cov_jxspod53c.s[115]++;app.get('/auth/github',passport.authenticate('github'));cov_jxspod53c.s[116]++;app.get('/auth/github/callback',passport.authenticate('github',{failureRedirect:'/login'}),(req,res)=>{cov_jxspod53c.f[6]++;cov_jxspod53c.s[117]++;res.redirect((cov_jxspod53c.b[9][0]++,req.session.returnTo)||(cov_jxspod53c.b[9][1]++,'/'));});cov_jxspod53c.s[118]++;app.get('/auth/google',passport.authenticate('google',{scope:'profile email'}));cov_jxspod53c.s[119]++;app.get('/auth/google/callback',passport.authenticate('google',{failureRedirect:'/login'}),(req,res)=>{cov_jxspod53c.f[7]++;cov_jxspod53c.s[120]++;res.redirect((cov_jxspod53c.b[10][0]++,req.session.returnTo)||(cov_jxspod53c.b[10][1]++,'/'));});cov_jxspod53c.s[121]++;app.get('/auth/twitter',passport.authenticate('twitter'));cov_jxspod53c.s[122]++;app.get('/auth/twitter/callback',passport.authenticate('twitter',{failureRedirect:'/login'}),(req,res)=>{cov_jxspod53c.f[8]++;cov_jxspod53c.s[123]++;res.redirect((cov_jxspod53c.b[11][0]++,req.session.returnTo)||(cov_jxspod53c.b[11][1]++,'/'));});cov_jxspod53c.s[124]++;app.get('/auth/linkedin',passport.authenticate('linkedin',{state:'SOME STATE'}));cov_jxspod53c.s[125]++;app.get('/auth/linkedin/callback',passport.authenticate('linkedin',{failureRedirect:'/login'}),(req,res)=>{cov_jxspod53c.f[9]++;cov_jxspod53c.s[126]++;res.redirect((cov_jxspod53c.b[12][0]++,req.session.returnTo)||(cov_jxspod53c.b[12][1]++,'/'));});/**
 * OAuth authorization routes. (API examples)
 */cov_jxspod53c.s[127]++;app.get('/auth/foursquare',passport.authorize('foursquare'));cov_jxspod53c.s[128]++;app.get('/auth/foursquare/callback',passport.authorize('foursquare',{failureRedirect:'/api'}),(req,res)=>{cov_jxspod53c.f[10]++;cov_jxspod53c.s[129]++;res.redirect('/api/foursquare');});cov_jxspod53c.s[130]++;app.get('/auth/tumblr',passport.authorize('tumblr'));cov_jxspod53c.s[131]++;app.get('/auth/tumblr/callback',passport.authorize('tumblr',{failureRedirect:'/api'}),(req,res)=>{cov_jxspod53c.f[11]++;cov_jxspod53c.s[132]++;res.redirect('/api/tumblr');});cov_jxspod53c.s[133]++;app.get('/auth/steam',passport.authorize('openid',{state:'SOME STATE'}));cov_jxspod53c.s[134]++;app.get('/auth/steam/callback',passport.authorize('openid',{failureRedirect:'/api'}),(req,res)=>{cov_jxspod53c.f[12]++;cov_jxspod53c.s[135]++;res.redirect(req.session.returnTo);});cov_jxspod53c.s[136]++;app.get('/auth/pinterest',passport.authorize('pinterest',{scope:'read_public write_public'}));cov_jxspod53c.s[137]++;app.get('/auth/pinterest/callback',passport.authorize('pinterest',{failureRedirect:'/login'}),(req,res)=>{cov_jxspod53c.f[13]++;cov_jxspod53c.s[138]++;res.redirect('/api/pinterest');});/**
 * Error Handler.
 */cov_jxspod53c.s[139]++;if(process.env.NODE_ENV==='development'){cov_jxspod53c.b[13][0]++;cov_jxspod53c.s[140]++;// only use in development
app.use(errorHandler());}else{cov_jxspod53c.b[13][1]++;}/**
 * Start Express server.
 */cov_jxspod53c.s[141]++;app.listen(app.get('port'),()=>{cov_jxspod53c.f[14]++;cov_jxspod53c.s[142]++;console.log('%s App is running at http://localhost:%d in %s mode',chalk.green('✓'),app.get('port'),app.get('env'));cov_jxspod53c.s[143]++;console.log('  Press CTRL-C to stop\n');});cov_jxspod53c.s[144]++;module.exports=app;