var cov_1vzfosjjv0=function(){var path='/Users/apple/Downloads/hackathon-starter-master/models/User.js',hash='b7fa9c5ec03da3f0f505b3c208d6375b4e1e15ed',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/apple/Downloads/hackathon-starter-master/models/User.js',statementMap:{'0':{start:{line:1,column:15},end:{line:1,column:39}},'1':{start:{line:2,column:15},end:{line:2,column:32}},'2':{start:{line:3,column:17},end:{line:3,column:36}},'3':{start:{line:5,column:19},end:{line:27,column:24}},'4':{start:{line:32,column:0},end:{line:43,column:3}},'5':{start:{line:33,column:15},end:{line:33,column:19}},'6':{start:{line:34,column:2},end:{line:34,column:54}},'7':{start:{line:34,column:38},end:{line:34,column:52}},'8':{start:{line:35,column:2},end:{line:42,column:5}},'9':{start:{line:36,column:4},end:{line:36,column:34}},'10':{start:{line:36,column:15},end:{line:36,column:32}},'11':{start:{line:37,column:4},end:{line:41,column:7}},'12':{start:{line:38,column:6},end:{line:38,column:36}},'13':{start:{line:38,column:17},end:{line:38,column:34}},'14':{start:{line:39,column:6},end:{line:39,column:27}},'15':{start:{line:40,column:6},end:{line:40,column:13}},'16':{start:{line:48,column:0},end:{line:52,column:2}},'17':{start:{line:49,column:2},end:{line:51,column:5}},'18':{start:{line:50,column:4},end:{line:50,column:21}},'19':{start:{line:57,column:0},end:{line:66,column:2}},'20':{start:{line:58,column:2},end:{line:60,column:3}},'21':{start:{line:59,column:4},end:{line:59,column:15}},'22':{start:{line:61,column:2},end:{line:63,column:3}},'23':{start:{line:62,column:4},end:{line:62,column:60}},'24':{start:{line:64,column:14},end:{line:64,column:71}},'25':{start:{line:65,column:2},end:{line:65,column:64}},'26':{start:{line:68,column:13},end:{line:68,column:47}},'27':{start:{line:70,column:0},end:{line:70,column:22}}},fnMap:{'0':{name:'save',decl:{start:{line:32,column:32},end:{line:32,column:36}},loc:{start:{line:32,column:43},end:{line:43,column:1}},line:32},'1':{name:'(anonymous_1)',decl:{start:{line:35,column:21},end:{line:35,column:22}},loc:{start:{line:35,column:36},end:{line:42,column:3}},line:35},'2':{name:'(anonymous_2)',decl:{start:{line:37,column:43},end:{line:37,column:44}},loc:{start:{line:37,column:58},end:{line:41,column:5}},line:37},'3':{name:'comparePassword',decl:{start:{line:48,column:46},end:{line:48,column:61}},loc:{start:{line:48,column:85},end:{line:52,column:1}},line:48},'4':{name:'(anonymous_4)',decl:{start:{line:49,column:51},end:{line:49,column:52}},loc:{start:{line:49,column:69},end:{line:51,column:3}},line:49},'5':{name:'gravatar',decl:{start:{line:57,column:39},end:{line:57,column:47}},loc:{start:{line:57,column:54},end:{line:66,column:1}},line:57}},branchMap:{'0':{loc:{start:{line:34,column:2},end:{line:34,column:54}},type:'if',locations:[{start:{line:34,column:2},end:{line:34,column:54}},{start:{line:34,column:2},end:{line:34,column:54}}],line:34},'1':{loc:{start:{line:36,column:4},end:{line:36,column:34}},type:'if',locations:[{start:{line:36,column:4},end:{line:36,column:34}},{start:{line:36,column:4},end:{line:36,column:34}}],line:36},'2':{loc:{start:{line:38,column:6},end:{line:38,column:36}},type:'if',locations:[{start:{line:38,column:6},end:{line:38,column:36}},{start:{line:38,column:6},end:{line:38,column:36}}],line:38},'3':{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:'if',locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:58,column:2},end:{line:60,column:3}}],line:58},'4':{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:'if',locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:61,column:2},end:{line:63,column:3}}],line:61}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const bcrypt=(cov_1vzfosjjv0.s[0]++,require('bcrypt-nodejs'));const crypto=(cov_1vzfosjjv0.s[1]++,require('crypto'));const mongoose=(cov_1vzfosjjv0.s[2]++,require('mongoose'));const userSchema=(cov_1vzfosjjv0.s[3]++,new mongoose.Schema({email:{type:String,unique:true},password:String,passwordResetToken:String,passwordResetExpires:Date,facebook:String,twitter:String,google:String,github:String,instagram:String,linkedin:String,steam:String,tokens:Array,profile:{name:String,gender:String,location:String,website:String,picture:String}},{timestamps:true}));/**
 * Password hash middleware.
 */cov_1vzfosjjv0.s[4]++;userSchema.pre('save',function save(next){cov_1vzfosjjv0.f[0]++;const user=(cov_1vzfosjjv0.s[5]++,this);cov_1vzfosjjv0.s[6]++;if(!user.isModified('password')){cov_1vzfosjjv0.b[0][0]++;cov_1vzfosjjv0.s[7]++;return next();}else{cov_1vzfosjjv0.b[0][1]++;}cov_1vzfosjjv0.s[8]++;bcrypt.genSalt(10,(err,salt)=>{cov_1vzfosjjv0.f[1]++;cov_1vzfosjjv0.s[9]++;if(err){cov_1vzfosjjv0.b[1][0]++;cov_1vzfosjjv0.s[10]++;return next(err);}else{cov_1vzfosjjv0.b[1][1]++;}cov_1vzfosjjv0.s[11]++;bcrypt.hash(user.password,salt,null,(err,hash)=>{cov_1vzfosjjv0.f[2]++;cov_1vzfosjjv0.s[12]++;if(err){cov_1vzfosjjv0.b[2][0]++;cov_1vzfosjjv0.s[13]++;return next(err);}else{cov_1vzfosjjv0.b[2][1]++;}cov_1vzfosjjv0.s[14]++;user.password=hash;cov_1vzfosjjv0.s[15]++;next();});});});/**
 * Helper method for validating user's password.
 */cov_1vzfosjjv0.s[16]++;userSchema.methods.comparePassword=function comparePassword(candidatePassword,cb){cov_1vzfosjjv0.f[3]++;cov_1vzfosjjv0.s[17]++;bcrypt.compare(candidatePassword,this.password,(err,isMatch)=>{cov_1vzfosjjv0.f[4]++;cov_1vzfosjjv0.s[18]++;cb(err,isMatch);});};/**
 * Helper method for getting user's gravatar.
 */cov_1vzfosjjv0.s[19]++;userSchema.methods.gravatar=function gravatar(size){cov_1vzfosjjv0.f[5]++;cov_1vzfosjjv0.s[20]++;if(!size){cov_1vzfosjjv0.b[3][0]++;cov_1vzfosjjv0.s[21]++;size=200;}else{cov_1vzfosjjv0.b[3][1]++;}cov_1vzfosjjv0.s[22]++;if(!this.email){cov_1vzfosjjv0.b[4][0]++;cov_1vzfosjjv0.s[23]++;return`https://gravatar.com/avatar/?s=${size}&d=retro`;}else{cov_1vzfosjjv0.b[4][1]++;}const md5=(cov_1vzfosjjv0.s[24]++,crypto.createHash('md5').update(this.email).digest('hex'));cov_1vzfosjjv0.s[25]++;return`https://gravatar.com/avatar/${md5}?s=${size}&d=retro`;};const User=(cov_1vzfosjjv0.s[26]++,mongoose.model('User',userSchema));cov_1vzfosjjv0.s[27]++;module.exports=User;